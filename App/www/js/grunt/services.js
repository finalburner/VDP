app.factory("AuthService",["socket","Session","P",function(a,b,c){var d={};return d.login=function(d){var e=new Promise(function(e,f){a.emit(c.SOCKET.LQ,d),a.on(c.SOCKET.LA,function(a){e(a.user),b.create(a.id,a.user.id,a.user.role)})});return e},d.isAuthenticated=function(){return!!b.userId},d.isAuthorized=function(a){return angular.isArray(a)||(a=[a]),d.isAuthenticated()&&-1!==a.indexOf(b.userRole)},d}]).service("Session",function(){this.create=function(a,b,c){this.id=a,this.userId=b,this.userRole=c},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}).factory("socket",["socketFactory",function(a){if(window.cordova)var b=a({prefix:"",ioSocket:io.connect("http://80.11.8.31:3000")});else var b=a({prefix:"",ioSocket:io.connect("http://localhost:3000")});return b}]).factory("Notif",["socket","$cordovaToast",function(a,b){return a.on("Notif",function(a){window.cordova?b.show(a.Msg,"short","bottom"):console.log(a.Msg)}),this.Show=function(a){window.cordova?b.show(a,"short","bottom"):console.log(data.Msg)},0}]).factory("ConnectivityMonitor",["$rootScope","$cordovaNetwork","$cordovaToast",function(a,b,c){return{isOnline:function(){return ionic.Platform.isWebView()?b.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!b.isOnline():!navigator.onLine},startWatching:function(){ionic.Platform.isWebView()?(a.$on("$cordovaNetwork:online",function(a,b){c.show("Connecté","short","bottom")}),a.$on("$cordovaNetwork:offline",function(a,b){c.show("Déconnecté","short","bottom")})):(window.addEventListener("online",function(a){c.show("Connecté","short","bottom")},!1),window.addEventListener("offline",function(a){c.show("Déconnecté","short","bottom")},!1))}}}]);