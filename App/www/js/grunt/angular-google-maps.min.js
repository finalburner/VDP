!function(t,e,i,o){"use strict";(function(){e.module("uiGmapgoogle-maps.providers",["nemLogging"]),e.module("uiGmapgoogle-maps.wrapped",[]),e.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),e.module("uiGmapgoogle-maps.directives.api.managers",[]),e.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),e.module("uiGmapgoogle-maps.directives.api.options.builders",[]),e.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),e.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),e.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){e.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(o,n){var r,s,a,l,u;return l=void 0,u=void 0,r=function(t){return t.china?"http://maps.google.cn/maps/api/js?":"auto"===t.transport?"//maps.googleapis.com/maps/api/js?":t.transport+"://maps.googleapis.com/maps/api/js?"},s=function(t){var e,o,s,a;return e=["transport","isGoogleMapsForWork","china","preventLoad"],t.isGoogleMapsForWork&&e.push("key"),o=i.map(i.omit(t,e),function(t,e){return e+"="+t}),l&&(a=document.getElementById(l)).parentNode.removeChild(a),o=o.join("&"),s=document.createElement("script"),s.id=l="ui_gmap_map_load_"+n.generate(),s.type="text/javascript",s.src=r(t)+o,document.head.appendChild(s)},a=function(){return e.isDefined(t.google)&&e.isDefined(t.google.maps)},{load:function(e){var i,n;return i=o.defer(),a()?(i.resolve(t.google.maps),i.promise):(n=e.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),t[n]=function(){t[n]=null,i.resolve(t.google.maps)},t.navigator.connection&&t.Connection&&t.navigator.connection.type===t.Connection.NONE&&!e.preventLoad?document.addEventListener("online",function(){return a()?void 0:s(e)}):e.preventLoad||s(e),u=e,u.randomizedFunctionName=n,i.promise)},manualLoad:function(){var e;return e=u,a()?t[e.randomizedFunctionName]?t[e.randomizedFunctionName]():void 0:s(e)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(t){e.extend(this.options,t)},this.$get=["uiGmapMapScriptLoader",function(t){return function(e){return e.load(t.options)}}(this)],this}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(t){return{load:function(){t.manualLoad()}}}])}.call(this),function(){var o=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:i.once(function(){var e;return google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(t,e,i){null==i&&(this._isOpen=!0,this._open(t,e,!0))},google.maps.InfoWindow.prototype.close=function(t){null==t&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},t.InfoBox&&(t.InfoBox.prototype._open=t.InfoBox.prototype.open,t.InfoBox.prototype._close=t.InfoBox.prototype.close,t.InfoBox.prototype._isOpen=!1,t.InfoBox.prototype.open=function(t,e){this._isOpen=!0,this._open(t,e)},t.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},t.InfoBox.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},e=function(e){function r(e){this.getOrigCloseBoxImg_=o(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=o(this.getCloseBoxDiv_,this);var n;n=new t.InfoBox(e),i.extend(this,n),null!=e.closeBoxDiv&&(this.closeBoxDiv_=e.closeBoxDiv)}return n(r,e),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var t,e;return t=this.getCloseBoxDiv_(),e=this.getOrigCloseBoxImg_(),t||e},r.prototype.getOrigCloseBoxImg_=function(){var t;return t="",""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},r}(t.InfoBox),t.uiGmapInfoBox=e),t.MarkerLabel_?t.MarkerLabel_.prototype.setContent=function(){var t;(t=this.marker_.get("labelContent"))&&!i.isEqual(this.oldContent,t)&&(void 0===(null!=t?t.nodeType:void 0)?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=t):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(t),this.oldContent=t))}:void 0):void 0})}})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var t,e,o,n,r,s,a,l;return s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,r=/\\(\\)?/g,o=function(t){var e,o,n;return o=t.missingName,n=t.swapName,e=t.isProto,null==i[o]&&(i[o]=i[n],e)?i.prototype[o]=i[n]:void 0},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(t){return o(t)}),null==i.get&&(a=function(t){return i.isObject(t)?t:Object(t)},e=function(t){return null===t?"":t+""},l=function(t){var o;return i.isArray(t)?t:(o=[],e(t).replace(s,function(t,e,i,n){o.push(i?n.replace(r,"$1"):e||t)}),o)},t=function(t,e,o){var n,r;if(null!==t){void 0!==o&&o in a(t)&&(e=[o]),n=0,r=e.length;for(;!i.isUndefined(t)&&r>n;)t=t[e[n++]];return n&&n===r?t:void 0}},n=function(e,i,o){var n;return n=null===e?void 0:t(e,l(i),i+""),void 0===n?o:n},i.get=n),this.intersectionObjects=function(t,e,o){var n;return null==o&&(o=void 0),n=i.map(t,function(t){return i.find(e,function(e){return null!=o?o(t,e):i.isEqual(t,e)})}),i.filter(n,function(t){return null!=t})},this.containsObject=i.includeObject=function(t,e,o){return null==o&&(o=void 0),null!==t&&i.some(t,function(t){return null!=o?o(t,e):i.isEqual(t,e)})},this.differenceObjects=function(t,e,o){return null==o&&(o=void 0),i.filter(t,function(t){return function(i){return!t.containsObject(e,i,o)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(t,e,o,n){var r,s;if(null==t)return-1;if(r=0,s=t.length,n){if("number"!=typeof n)return r=i.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,s+n):n}for(;s>r;){if(null!=o){if(o(t[r],e))return r}else if(i.isEqual(t[r],e))return r;r++}return-1},this.isNullOrUndefined=function(t){return i.isNull(t||i.isUndefined(t))},this})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(t){return this.contains=function(e,i){return-1!==t.indexOf(e,i)},this}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var t;return t=void 0,{then:function(e){return t=e},resolve:function(){return t.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(t,o,n,r,s,a){var l,u,p,h,c,d,g,f,m,v,y,_,b,M,w,k,x,C,G;return C=o.promiseTypes,y=o.isInProgress,x=o.promiseStatus,l=o.ExposedPromise,p=o.SniffedPromise,_=function(t,e){var i;return i=t.promise(),i.promiseType=t.promiseType,i.$$state&&n.debug("promiseType: "+i.promiseType+", state: "+x(i.$$state.status)),i.cancelCb=e,i},g=function(t,e){return t.promiseType===C.create&&e.promiseType!==C.delete&&e.promiseType!==C.init&&(n.debug("lastPromise.promiseType "+e.promiseType+", newPromiseType: "+t.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0)},k=function(t,e,o){var r;return e.promiseType===C.delete&&o.promiseType!==C.delete&&null!=o.cancelCb&&i.isFunction(o.cancelCb)&&y(o)&&(n.debug("promiseType: "+e.promiseType+", CANCELING LAST PROMISE type: "+o.promiseType),o.cancelCb("cancel safe"),null!=(r=t.peek())&&y(r))?r.hasOwnProperty("cancelCb")&&i.isFunction(r.cancelCb)?(n.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):n.warn("first promise was not cancelable"):void 0},u=function(t,e,o){var n,r;if(t.existingPieces){if(n=i.last(t.existingPieces._content),g(e,n))return;return k(t.existingPieces,e,n),r=l(n.finally(function(){return _(e,o)})),r.cancelCb=o,r.promiseType=e.promiseType,t.existingPieces.enqueue(r),n.finally(function(){return t.existingPieces.dequeue()})}return t.existingPieces=new s.Queue,t.existingPieces.enqueue(_(e,o))},M=function(t,e,o,r,s){var a;return null==o&&(o=""),a=function(t){return n.debug(t+": "+t),null!=r&&i.isFunction(r)?r(t):void 0},u(t,p(s,e),a)},m={value:null},G=function(t,e,i){var o;try{return t.apply(e,i)}catch(t){return o=t,m.value=o,m}},b=function(t,e,i,o){var r,s;return(s=G(t,e,o))===m&&(r="error within chunking iterator: "+m.value,n.error(r),i.reject(r)),"cancel safe"!==s},h=function(t,e,i){var o,n;return o=t===e,n=e[i],o?n:t[n]},c=["length","forEach","map"],v=function(t,o,n,r){var s,a;if(e.isArray(t))s=t;else if(o)s=o;else{s=[];for(a in t)t[a],t.hasOwnProperty(a)&&!i.includes(c,a)&&s.push(a)}return null==r&&(r=n),e.isArray(s)&&!(null!=s?s.length:void 0)&&r!==n?n():r(s,o)},d=function(o,n,r,s,a,l,u,p){return v(o,p,function(p,c){var g,f,m,v;for(g=n&&n<p.length?n:p.length,f=u,m=!0;m&&g--&&f<(p?p.length:f+1);)v=h(o,p,f),m=!!e.isFunction(v)||b(s,void 0,l,[v,f]),++f;if(p){if(!(m&&f<p.length))return l.resolve();if(u=f,n)return null!=a&&i.isFunction(a)&&b(a,void 0,l,[]),t(function(){return d(o,n,r,s,a,l,u,c)},r,!1)}})},f=function(t,e,i,r,s,a,l){var u,p,h;return null==i&&(i=80),null==s&&(s=0),null==a&&(a=1),h=void 0,p=o.defer(),h=p.promise,a?v(t,l,function(){return p.resolve(),h},function(o,n){return d(t,i,a,e,r,p,s,n),h}):(u="pause (delay) must be set from _async!",n.error(u),p.reject(u),h)},w=function(t,e,i,n,r,s,a){var l;return l=[],v(t,a,function(){return o.resolve(l)},function(o,a){return f(t,function(t){return l.push(e(t))},i,n,r,s,a).then(function(){return l})})},{each:f,map:w,managePromiseQueue:M,promiseLock:M,defaultChunkSize:80,getArrayAndKeys:v,chunkSizeFrom:function(t,e){return null==e&&(e=void 0),i.isNumber(t)&&(e=t),(a.isFalse(t)||!1===t)&&(e=!1),e}}}])}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var e;return e=["extended","included"],function(){function i(){}return i.extend=function(i){var o,n,r;for(o in i)r=i[o],t.call(e,o)<0&&(this[o]=r);return null!=(n=i.extended)&&n.apply(this),this},i.include=function(i){var o,n,r;for(o in i)r=i[o],t.call(e,o)<0&&(this.prototype[o]=r);return null!=(n=i.included)&&n.apply(this),this},i}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(t){}}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(t){var e;return e={handle:function(i,o){return i.$on("$destroy",function(){return e.handle(i)}),i.deferred=t.defer(),{getScope:function(){return i}}},mapPromise:function(t,e){var i;return(i=e.getScope()).deferred.promise.then(function(e){return t.map=e}),i.deferred.promise}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(t){var o,n;return n=function(t){return e.isDefined(t.events)&&null!=t.events&&e.isObject(t.events)},o=function(t,e){return n(t)?t:n(e)?e:void 0},{setEvents:function(t,n,r,s){var a;return a=o(n,r),null!=a?i.compact(i.map(a.events,function(o,l){var u;return s&&(u=i(s).includes(l)),a.events.hasOwnProperty(l)&&e.isFunction(a.events[l])&&!u?google.maps.event.addListener(t,l,function(){return n.$evalAsync||(n.$evalAsync=function(){}),n.$evalAsync(o.apply(n,[t,l,r,arguments]))}):void 0})):void 0},removeEvents:function(t){var e,i;if(t)for(e in t)(i=t[e])&&t.hasOwnProperty(e)&&google.maps.event.removeListener(i)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","$timeout",function(t,e){return{fit:function(t,o){var n,r,s,a,l;if(o&&(null!=t?t.length:void 0)){n=new google.maps.LatLngBounds,r=!1;for(s in t)(a=t[s])&&(r||(r=!0),l=i.isFunction(a.getPosition)?a.getPosition():a),n.extend(l);if(r)return e(function(){return o.fitBounds(n)})}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(t,o){var n,r,s,a,l,u;return r=function(t,e,i){return t===e||-1!==i.indexOf(t)},n=function(t){return r(t,!1,["false","FALSE",0,"n","N","no","NO"])},a=function(t){return Array.isArray(t)&&2===t.length?t[1]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[1]:t.latitude},l=function(t){return Array.isArray(t)&&2===t.length?t[0]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[0]:t.longitude},s=function(t){return t?t instanceof google.maps.LatLng?t:Array.isArray(t)&&2===t.length?new google.maps.LatLng(t[1],t[0]):e.isDefined(t.type)&&"Point"===t.type?new google.maps.LatLng(t.coordinates[1],t.coordinates[0]):new google.maps.LatLng(t.latitude,t.longitude):void 0},u=function(t){if(e.isUndefined(t))return!1;if(i.isArray(t)){if(2===t.length)return!0}else if(null!=t&&(null!=t?t.type:void 0)&&"Point"===t.type&&i.isArray(t.coordinates)&&2===t.coordinates.length)return!0;return!(!t||!e.isDefined((null!=t?t.latitude:void 0)&&e.isDefined(null!=t?t.longitude:void 0)))},{setCoordsFromEvent:function(t,i){return t?(Array.isArray(t)&&2===t.length?(t[1]=i.lat(),t[0]=i.lng()):e.isDefined(t.type)&&"Point"===t.type?(t.coordinates[1]=i.lat(),t.coordinates[0]=i.lng()):(t.latitude=i.lat(),t.longitude=i.lng()),t):void 0},getLabelPositionPoint:function(t){var e,i;return void 0!==t?(t=/^([-\d\.]+)\s([-\d\.]+)$/.exec(t),e=parseFloat(t[1]),i=parseFloat(t[2]),null!=e&&null!=i?new google.maps.Point(e,i):void 0):void 0},createWindowOptions:function(i,n,r,a){var l;return null!=r&&null!=a&&null!=o?(l=e.extend({},a,{content:this.buildContent(n,a,r),position:null!=a.position?a.position:e.isObject(i)?i.getPosition():s(n.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):a||(t.error("infoWindow defaults not defined"),r?void 0:t.error("infoWindow content not defined"))},buildContent:function(t,e,i){var n,r;return null!=e.content?r=e.content:null!=o?(i=i.replace(/^\s+|\s+$/g,""),(n=""===i?"":o(i)(t)).length>0&&(r=n[0])):r=i,r},defaultDelay:50,isTrue:function(t){return r(t,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:n,isFalsy:function(t){return r(t,!1,[void 0,null])||n(t)},getCoords:s,validateCoords:u,equalCoords:function(t,e){return a(t)===a(e)&&l(t)===l(e)},validatePath:function(t){var o,n,r,s;if(n=0,e.isUndefined(t.type)){if(!Array.isArray(t)||t.length<2)return!1;for(;n<t.length;){if(!(e.isDefined(t[n].latitude)&&e.isDefined(t[n].longitude)||"function"==typeof t[n].lat&&"function"==typeof t[n].lng))return!1;n++}return!0}if(e.isUndefined(t.coordinates))return!1;if("Polygon"===t.type){if(t.coordinates[0].length<4)return!1;o=t.coordinates[0]}else if("MultiPolygon"===t.type){if(s={max:0,index:0},i.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},s),r=t.coordinates[s.index],(o=r[0]).length<4)return!1}else{if("LineString"!==t.type)return!1;if(t.coordinates.length<2)return!1;o=t.coordinates}for(;n<o.length;){if(2!==o[n].length)return!1;n++}return!0},convertPathPoints:function(t){var o,n,r,s,a;if(n=0,s=new google.maps.MVCArray,e.isUndefined(t.type))for(;n<t.length;)e.isDefined(t[n].latitude)&&e.isDefined(t[n].longitude)?r=new google.maps.LatLng(t[n].latitude,t[n].longitude):"function"==typeof t[n].lat&&"function"==typeof t[n].lng&&(r=t[n]),s.push(r),n++;else for("Polygon"===t.type?o=t.coordinates[0]:"MultiPolygon"===t.type?(a={max:0,index:0},i.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},a),o=t.coordinates[a.index][0]):"LineString"===t.type&&(o=t.coordinates);n<o.length;)s.push(new google.maps.LatLng(o[n][1],o[n][0])),n++;return s},getPath:function(t,e){var o;return null!=e&&i.isString(e)?(o=t,i.each(e.split("."),function(t){return o?o=o[t]:void 0}),o):e},validateBoundPoints:function(t){return!(e.isUndefined(t.sw.latitude)||e.isUndefined(t.sw.longitude)||e.isUndefined(t.ne.latitude)||e.isUndefined(t.ne.longitude))},convertBoundPoints:function(t){return new google.maps.LatLngBounds(new google.maps.LatLng(t.sw.latitude,t.sw.longitude),new google.maps.LatLng(t.ne.latitude,t.ne.longitude))},fitMapBounds:function(t,e){return t.fitBounds(e)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(t,e){var i,o,n,r;return o=0,r=[],n=function(){return t.all(r)},i=function(t,r,s){return e(function(){return 0>=s?void t.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(o!==r?i(t,r,s-1):t.resolve(n()))},100)},{spawn:function(){var e;return e=t.defer(),r.push(e.promise),o+=1,{instance:o,deferred:e}},promises:n,instances:function(){return o},promise:function(e,o){var n;return null==e&&(e=1),null==o&&(o=50),n=t.defer(),i(n,e,o),n.promise},reset:function(){o=0,r.length=0},decrement:function(){o>0&&(o-=1),r.length&&(r.length-=1)}}}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(e){return function(e){function i(t,e,i,o){this.scope=t,this.element=e,this.attrs=i,this.ctrls=o}return t(i,e),i}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(t){return t.spawn()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(n,r){return function(n){function s(e,i){this.scope=e,this.interface=null!=i?i:{scopeKeys:[]},this.modelsLength=t(this.modelsLength,this),this.updateChild=t(this.updateChild,this),this.destroy=t(this.destroy,this),this.setChildScope=t(this.setChildScope,this),this.getChanges=t(this.getChanges,this),this.getProp=t(this.getProp,this),this.setIdKey=t(this.setIdKey,this),this.modelKeyComparison=t(this.modelKeyComparison,this),s.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return o(s,n),s.prototype.evalModelHandle=function(t,e){return null!=t&&null!=e?"self"===e?t:(i.isFunction(e)&&(e=e()),r.getPath(t,e)):void 0},s.prototype.modelKeyComparison=function(t,e){var o,n,s,a,l,u;if(((s=this.interface.scopeKeys.indexOf("coords")>=0)&&null!=this.scope.coords||!s)&&(l=this.scope),null==l)throw"No scope set!";return!s||(o=this.scopeOrModelVal("coords",l,t),n=this.scopeOrModelVal("coords",l,e),a=r.equalCoords(o,n))?(u=i.without(this.interface.scopeKeys,"coords"),a=i.every(u,function(o){return function(n){var r,s;return r=o.scopeOrModelVal(l[n],l,t),s=o.scopeOrModelVal(l[n],l,e),l.deepComparison?i.isEqual(r,s):r===s}}(this))):a},s.prototype.setIdKey=function(t){return this.idKey=null!=t.idKey?t.idKey:this.defaultIdKey},s.prototype.setVal=function(t,e,i){return this.modelOrKey(t,i),t},s.prototype.modelOrKey=function(t,e){return null!=e?"self"!==e?r.getPath(t,e):t:void 0},s.prototype.getProp=function(t,e,i){return this.scopeOrModelVal(t,e,i)},s.prototype.getChanges=function(t,e,o){var n,r,s;o&&(e=i.pick(e,o),t=i.pick(t,o)),r={},s={},n={};for(s in t)e&&e[s]===t[s]||(i.isArray(t[s])?r[s]=t[s]:i.isObject(t[s])?(n=this.getChanges(t[s],e?e[s]:null),i.isEmpty(n)||(r[s]=n)):r[s]=t[s]);return r},s.prototype.scopeOrModelVal=function(t,e,o,n){var r,s,a,l;return null==n&&(n=!1),r=function(t,e,i){return null==i&&(i=!1),i?{isScope:t,value:e}:e},l=i.get(e,t),i.isFunction(l)?r(!0,l(o),n):i.isObject(l)?r(!0,l,n):i.isString(l)?(s=l,a=s?"self"===s?o:i.get(o,s):i.get(o,t),i.isFunction(a)?r(!1,a(),n):r(!1,a,n)):r(!0,l,n)},s.prototype.setChildScope=function(t,e,i){var o,n,r,s;for(n in t)r=t[n],o=this.scopeOrModelVal(r,e,i,!0),null!=(null!=o?o.value:void 0)&&(s=o.value)!==e[r]&&(e[r]=s);return e.model=i},s.prototype.onDestroy=function(t){},s.prototype.destroy=function(t){var e;return null==t&&(t=!1),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?this.clean():this.scope.$destroy()},s.prototype.updateChild=function(t,e){return null==e[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):t.updateModel(e)},s.prototype.modelsLength=function(t){var i,o;return null==t&&(t=void 0),i=0,o=t||this.scope.models,null==o?i:i=e.isArray(o)||null!=o.length?o.length:Object.keys(o).length},s}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(t,e,i,o){return{didQueueInitPromise:function(t,i){return 0===i.models.length&&(e.promiseLock(t,o.promiseTypes.init,null,null,function(){return o.resolve()}),!0)},figureOutState:function(e,i,o,n,r){var s,a,l,u;return s=[],a={},l=[],u=[],i.models.forEach(function(r){var l;return null==r[e]?t.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(a[r[e]]={},null==o.get(r[e])?s.push(r):(l=o.get(r[e]),n(r,l.clonedModel,i)?void 0:u.push({model:r,child:l})))}),o.values().forEach(function(i){var o;return null==i?void t.error("child undefined in ModelsWatcher."):null==i.model?void t.error("child.model undefined in ModelsWatcher."):(o=i.model[e],null==a[o]?l.push(i):void 0)}),{adds:s,removals:l,updates:u}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(t,e,o){var n,r,s,a,l,u,p,h,c,d,g;return c={create:"create",update:"update",delete:"delete",init:"init"},h={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},g=function(){var t;return t={},t[""+h.IN_PROGRESS]="in-progress",t[""+h.RESOLVED]="resolved",t[""+h.REJECTED]="rejected",t}(),a=function(t){return t.$$state?t.$$state.status===h.IN_PROGRESS:!t.hasOwnProperty("$$v")||void 0},l=function(t){return t.$$state?t.$$state.status===h.RESOLVED:!!t.hasOwnProperty("$$v")||void 0},p=function(t){return g[t]||"done w error"},n=function(e){var i,o,n;return i=t.defer(),o=t.all([e,i.promise]),n=t.defer(),e.then(i.resolve,function(){},function(t){return i.notify(t),n.notify(t)}),o.then(function(t){return n.resolve(t[0]||t[1])},function(t){return n.reject(t)}),n.promise.cancel=function(t){return null==t&&(t="canceled"),i.reject(t)},n.promise.notify=function(t){return null==t&&(t="cancel safe"),n.notify(t),e.hasOwnProperty("notify")?e.notify(t):void 0},null!=e.promiseType&&(n.promise.promiseType=e.promiseType),n.promise},r=function(t,e){return{promise:t,promiseType:e}},s=function(){return t.defer()},d=function(){var e;return(e=t.defer()).resolve.apply(void 0,arguments),e.promise},u=function(n){var r;return i.isFunction(n)?(r=t.defer(),e(function(){var t;return t=n(),r.resolve(t)}),r.promise):void o.error("uiGmapPromise.promise() only accepts functions")},{defer:s,promise:u,resolve:d,promiseTypes:c,isInProgress:a,isResolved:l,promiseStatus:p,ExposedPromise:n,SniffedPromise:r}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return function(){function e(){this.removeAll=t(this.removeAll,this),this.slice=t(this.slice,this),this.push=t(this.push,this),this.keys=t(this.keys,this),this.values=t(this.values,this),this.remove=t(this.remove,this),this.put=t(this.put,this),this.stateChanged=t(this.stateChanged,this),this.get=t(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return e.prototype.get=function(t){return this.dict[t]},e.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},e.prototype.put=function(t,e){return null==this.get(t)&&this.length++,this.stateChanged(),this.dict[t]=e},e.prototype.remove=function(t,e){var i;return null==e&&(e=!1),!e||this.get(t)?(i=this.dict[t],delete this.dict[t],this.length--,this.stateChanged(),i):void 0},e.prototype.valuesOrKeys=function(t){var e,o;return null==t&&(t="Keys"),this["did"+t+"StateChange"]?(o=[],e=[],i.each(this.dict,function(t,i){return o.push(t),e.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=o,this.allKeys=e,this["all"+t]):this["all"+t]},e.prototype.values=function(){return this.valuesOrKeys("Vals")},e.prototype.keys=function(){return this.valuesOrKeys()},e.prototype.push=function(t,e){return null==e&&(e="key"),this.put(t[e],t)},e.prototype.slice=function(){return this.keys().map(function(t){return function(e){return t.remove(e)}}(this))},e.prototype.removeAll=function(){return this.slice()},e.prototype.each=function(t){return i.each(this.dict,function(e,i){return t(e)})},e.prototype.map=function(t){return i.map(this.dict,function(e,i){return t(e)})},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(t){return function(t){return this.setIfChange=function(e){return function(o,n){return i.isEqual(n,o)?void 0:t(e,o)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(i,o,n,r){return function(){function s(e,o,r,a){null==o&&(o={}),this.opt_options=null!=r?r:{},this.opt_events=a,this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=s.type,this.clusterer=new NgMapMarkerClusterer(e,o,this.opt_options),this.propMapGMarkers=new n,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,i.info(this)}return s.type="ClustererMarkerManager",s.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",i.error(e)):void 0},s.prototype.add=function(t){return this.checkKey(t),this.clusterer.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},s.prototype.update=function(t){return this.remove(t),this.add(t)},s.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},s.prototype.remove=function(t){return this.checkKey(t),this.propMapGMarkers.get(t.key)&&(this.clusterer.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},s.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},s.prototype.draw=function(){return this.clusterer.repaint()},s.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},s.prototype.attachEvents=function(t,o){var n,r;if(this.listeners=[],e.isDefined(t)&&null!=t&&e.isObject(t)){r=[];for(n in t)t[n],t.hasOwnProperty(n)&&e.isFunction(t[n])?(i.info(o+": Attaching event: "+n+" to clusterer"),r.push(this.listeners.push(google.maps.event.addListener(this.clusterer,n,t[n])))):r.push(void 0);return r}},s.prototype.clearEvents=function(){return r.removeEvents(this.listeners),this.listeners=[]},s.prototype.destroy=function(){return this.clearEvents(),this.clear()},s.prototype.fit=function(){return o.fit(this.getGMarkers(),this.clusterer.getMap())},s.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var t,i;return t=[],i=[],{createMapInstance:function(o,n){var r;return r=null,0===t.length?(r=new google.maps.Map(o,n),i.push(r)):(r=t.pop(),e.element(o).append(r.getDiv()),r.setOptions(n),i.push(r)),r},recycleMapInstance:function(e){var o;if(0>(o=i.indexOf(e)))throw new Error("Expected map instance to be a previously used instance");return i.splice(o,1),t.push(e)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(e,i,o){return function(){function n(i,r,s){this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.handleOptDraw=t(this.handleOptDraw,this),this.clear=t(this.clear,this),this.destroy=t(this.destroy,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=n.type,this.gMap=i,this.gMarkers=new o,this.$log=e,this.$log.info(this)}return n.type="MarkerManager",n.prototype.add=function(t,i){var o;if(null==i&&(i=!0),null==t.key)throw o="gMarker.key undefined and it is REQUIRED!!",e.error(o),o;return this.gMarkers.get(t.key)?void 0:(this.handleOptDraw(t,i,!0),this.gMarkers.put(t.key,t))},n.prototype.update=function(t,e){return null==e&&(e=!0),this.remove(t,e),this.add(t,e)},n.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},n.prototype.remove=function(t,e){return null==e&&(e=!0),this.handleOptDraw(t,e,!1),this.gMarkers.get(t.key)?this.gMarkers.remove(t.key):void 0},n.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},n.prototype.draw=function(){var t;return t=[],this.gMarkers.each(function(e){return function(i){return i.isDrawn?void 0:i.doAdd?(i.setMap(e.gMap),i.isDrawn=!0):t.push(i)}}(this)),t.forEach(function(t){return function(e){return e.isDrawn=!1,t.remove(e,!0)}}(this))},n.prototype.destroy=function(){return this.clear()},n.prototype.clear=function(){return this.gMarkers.each(function(t){return t.setMap(null)}),delete this.gMarkers,this.gMarkers=new o},n.prototype.handleOptDraw=function(t,e,i){return!0===e?(i?t.setMap(this.gMap):t.setMap(null),t.isDrawn=!0):(t.isDrawn=!1,t.doAdd=i)},n.prototype.fit=function(){return i.fit(this.getGMarkers(),this.gMap)},n.prototype.getGMarkers=function(){return this.gMarkers.values()},n}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(o,n,r,s){return function(){function a(e,i,n,l,u){null==i&&(i={}),this.opt_options=null!=n?n:{},this.opt_events=l,this.scope=u,this.isSpiderfied=t(this.isSpiderfied,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=a.type,this.markerSpiderfier=new s(e,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,o.info(this)}return a.type="SpiderfierMarkerManager",a.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",o.error(e)):void 0},a.prototype.add=function(t){return t.setMap(this.markerSpiderfier.map),this.checkKey(t),this.markerSpiderfier.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},a.prototype.update=function(t){return this.remove(t),this.add(t)},a.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},a.prototype.remove=function(t){return this.checkKey(t),this.propMapGMarkers.get(t.key)&&(t.setMap(null),this.markerSpiderfier.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},a.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},a.prototype.draw=function(){},a.prototype.clear=function(){return this.removeMany(this.getGMarkers())},a.prototype.attachEvents=function(t,n){return e.isDefined(t)&&null!=t&&e.isObject(t)?i.each(t,function(i){return function(r,s){return t.hasOwnProperty(s)&&e.isFunction(t[s])?(o.info(n+": Attaching event: "+s+" to markerSpiderfier"),i.markerSpiderfier.addListener(s,function(){return"spiderfy"===s||"unspiderfy"===s?i.scope.$evalAsync(t[s].apply(t,arguments)):i.scope.$evalAsync(t[s].apply(t,[arguments[0],s,arguments[0].model,arguments]))})):void 0}}(this)):void 0},a.prototype.clearEvents=function(t,i){var n;if(e.isDefined(t)&&null!=t&&e.isObject(t))for(n in t)t[n],t.hasOwnProperty(n)&&e.isFunction(t[n])&&(o.info(i+": Clearing event: "+n+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(n))},a.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},a.prototype.fit=function(){return n.fit(this.getGMarkers(),this.markerSpiderfier.map)},a.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},a.prototype.isSpiderfied=function(){return i.find(this.getGMarkers(),function(t){return null!=(null!=t?t._omsData:void 0)})},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(t){var i;return i=function(e,i,o){return google.maps.event.addListener(e,i,function(){return o.apply(this,arguments),t(function(){},!0)})},function(t,o,n){var r;return n?i(t,o,n):(r=[],e.forEach(o,function(e,o){return r.push(i(t,o,e))}),function(){return e.forEach(r,function(t){return google.maps.event.removeListener(t)}),r=null})}}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(t){return function(i,o,n,r){var s,a,l,u,p,h,c,d,g;return u=!1,d=o.$eval(n),o.static||(p={set_at:function(t){var e;return!u&&(e=i.getAt(t))?e.lng&&e.lat?(d[t].latitude=e.lat(),d[t].longitude=e.lng()):d[t]=e:void 0},insert_at:function(t){var e;return!u&&(e=i.getAt(t))?e.lng&&e.lat?d.splice(t,0,{latitude:e.lat(),longitude:e.lng()}):d.splice(t,0,e):void 0},remove_at:function(t){return u?void 0:d.splice(t,1)}},"Polygon"===d.type?s=d.coordinates[0]:"LineString"===d.type&&(s=d.coordinates),a={set_at:function(t){var e;return!u&&(e=i.getAt(t))&&e.lng&&e.lat?(s[t][1]=e.lat(),s[t][0]=e.lng()):void 0},insert_at:function(t){var e;return!u&&(e=i.getAt(t))&&e.lng&&e.lat?s.splice(t,0,[e.lng(),e.lat()]):void 0},remove_at:function(t){return u?void 0:s.splice(t,1)}},c=t(i,e.isUndefined(d.type)?p:a)),h=function(t){var e,o,n,s,a,l,p,h;if(u=!0,l=i,e=!1,t){for(o=0,p=l.getLength(),s=t.length,n=Math.min(p,s),a=void 0;n>o;)h=l.getAt(o),a=t[o],"function"==typeof a.equals?a.equals(h)||(l.setAt(o,a),e=!0):h.lat()===a.latitude&&h.lng()===a.longitude||(l.setAt(o,new google.maps.LatLng(a.latitude,a.longitude)),e=!0),o++;for(;s>o;)a=t[o],"function"==typeof a.lat&&"function"==typeof a.lng?l.push(a):l.push(new google.maps.LatLng(a.latitude,a.longitude)),e=!0,o++;for(;p>o;)l.pop(),e=!0,o++}return u=!1,e?r(l):void 0},l=function(t){var e,o,n,s,a,l,p,h,c;if(u=!0,p=i,o=!1,t){for("Polygon"===d.type?e=t.coordinates[0]:"LineString"===d.type&&(e=t.coordinates),n=0,h=p.getLength(),a=e.length,s=Math.min(h,a),l=void 0;s>n;)c=p.getAt(n),l=e[n],c.lat()===l[1]&&c.lng()===l[0]||(p.setAt(n,new google.maps.LatLng(l[1],l[0])),o=!0),n++;for(;a>n;)l=e[n],p.push(new google.maps.LatLng(l[1],l[0])),o=!0,n++;for(;h>n;)p.pop(),o=!0,n++}return u=!1,o?r(p):void 0},o.static||(g=e.isUndefined(d.type)?o.$watchCollection(n,h):o.$watch(n,l,!0)),function(){return c&&(c(),c=null),g?(g(),g=null):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(t){return{maybeRepaint:function(e){return e?(e.style.opacity=.9,t(function(){return e.style.opacity=1})):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var t,e,o,n;return t=["length","forEach","map"],e=[],o=function(e){return e.forEach=function(o){return i.each(i.omit(e,t),function(t){return i.isFunction(t)?void 0:o(t)})},e},e.push(o),n=function(e){return e.map=function(o){return i.map(i.omit(e,t),function(t){return i.isFunction(t)?void 0:o(t)})},e},e.push(n),{slapMap:n,slapForEach:o,slapAll:function(t){return e.forEach(function(e){return e(t)}),t}}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(o,n,r){return function(o){function r(){return this.watchProps=t(this.watchProps,this),this.buildOpts=t(this.buildOpts,this),r.__super__.constructor.apply(this,arguments)}return i(r,o),r.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],r.prototype.getCorrectModel=function(t){return e.isDefined(null!=t?t.model:void 0)?t.model:t},r.prototype.buildOpts=function(t,i,o){var r,s,a;return null==t&&(t={}),null==o&&(o={}),this.scope?this.gMap?(r=this.getCorrectModel(this.scope),a=this.scopeOrModelVal("stroke",this.scope,r),s=e.extend(t,this.DEFAULTS,{map:this.gMap,strokeColor:null!=a?a.color:void 0,strokeOpacity:null!=a?a.opacity:void 0,strokeWeight:null!=a?a.weight:void 0}),e.forEach(e.extend(o,{clickable:!0,draggable:!1,editable:!1,static:!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(t){return function(o,n){var a;return a=i?i[n]:t.scopeOrModelVal(n,t.scope,r),e.isUndefined(a)?s[n]=o:s[n]=r[n]}}(this)),s.static&&(s.editable=!1),s):void n.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void n.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},r.prototype.watchProps=function(t){return null==t&&(t=this.props),t.forEach(function(t){return function(e){return null!=t.attrs[e]||null!=t.attrs[null!=e?e.prop:void 0]?(null!=e?e.isColl:void 0)?t.scope.$watchCollection(e.prop,t.setMyOptions):t.scope.$watch(e,t.setMyOptions):void 0}}(this))},r}(r)}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){return function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.buildOpts=function(t,e){return i.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},i}(e)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(i){return function(i){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,i),o.prototype.buildOpts=function(t,i,n){var r,s;return s=this.getCorrectModel(this.scope),r=i?i.fill:this.scopeOrModelVal("fill",this.scope,s),t=e.extend(t,{fillColor:null!=r?r.color:void 0,fillOpacity:null!=r?r.opacity:void 0}),o.__super__.buildOpts.call(this,t,i,n)},o}(i)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){return function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.buildOpts=function(t,e){return i.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},i}(e)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){return function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.buildOpts=function(t,e){return i.__super__.buildOpts.call(this,{bounds:t},e)},i}(e)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){return function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.buildOpts=function(t,e,o){return i.__super__.buildOpts.call(this,{center:t,radius:e},o)},i}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(t,o){return i.extend(o,{createOptions:function(t,i,n,r){var s;return null==n&&(n={}),s=e.extend({},n,{position:null!=n.position?n.position:o.getCoords(t),visible:null!=n.visible?n.visible:o.validateCoords(t)}),null==n.icon&&null==i||(s=e.extend(s,{icon:null!=n.icon?n.icon:i})),null!=r&&(s.map=r),s},isLabel:function(t){return null!=t&&(null!=t.labelContent||null!=t.labelAnchor||null!=t.labelClass||null!=t.labelStyle||null!=t.labelVisible)}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(n,r,s,a,l){return function(n,r){return function(n){function u(o){var n,a,u;this.scope=o.scope,this.attrs=o.attrs,this.gMap=o.gMap,this.defaults=o.defaults,this.model=o.model,a=o.gObjectChangeCb,this.isScopeModel=null!=(u=o.isScopeModel)&&u,this.clean=t(this.clean,this),this.isScopeModel&&(this.clonedModel=i.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(t){return function(){return i.defer(function(){return t.isDragging=!1})}}(this),dragstart:function(t){return function(){return t.isDragging=!0}}(this)},(n=function(t){return function(){var i;return t.isDragging?void 0:(t.pathPoints=t.convertPathPoints(t.scope.path),null!=t.gObject&&t.clean(),null!=t.scope.model&&(i=t.scope),t.pathPoints.length>0&&(t.gObject=r(t.buildOpts(t.pathPoints,i))),t.gObject?(s(t.gObject.getPath(),t.scope,"path",function(e){return t.pathPoints=e,null!=a?a():void 0}),e.isDefined(t.scope.events)&&e.isObject(t.scope.events)&&(t.listeners=t.model?l.setEvents(t.gObject,t.scope,t.model):l.setEvents(t.gObject,t.scope,t.scope)),t.internalListeners=t.model?l.setEvents(t.gObject,{events:t.internalEvents},t.model):l.setEvents(t.gObject,{events:t.internalEvents},t.scope)):void 0)}}(this))(),this.scope.$watch("path",function(t){return function(e,o){return i.isEqual(e,o)&&t.gObject?void 0:n()}}(this),!0),!this.scope.static&&e.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(t){return function(e,i){var o;return e!==i?(e=!t.isFalse(e),null!=(o=t.gObject)?o.setEditable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(t){return function(e,i){var o;return e!==i?(e=!t.isFalse(e),null!=(o=t.gObject)?o.setDraggable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(t){return function(e,i){var o;return e!==i&&(e=!t.isFalse(e)),null!=(o=t.gObject)?o.setVisible(e):void 0}}(this),!0),e.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(t){return function(e,i){var o;return e!==i?(e=!t.isFalse(e),null!=(o=t.gObject)?o.setOptions(t.buildOpts(t.gObject.getPath())):void 0):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(t){return function(e,i){var o;return e!==i&&null!=(o=t.gObject)?o.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(t){return function(e,i){var o;return e!==i&&null!=(o=t.gObject)?o.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(t){return function(e,i){var o;return e!==i&&null!=(o=t.gObject)?o.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(t){return function(e,i){var o;return e!==i&&null!=(o=t.gObject)?o.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(t){return function(){return t.clean(),t.scope=null}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(t){return function(e,i){return e!==i?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(t){return function(e,i){return e!==i?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(t){return function(e,i){return e!==i?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this))}return o(u,n),u.include(a),u.prototype.clean=function(){var t;return l.removeEvents(this.listeners),l.removeEvents(this.internalListeners),null!=(t=this.gObject)&&t.setMap(null),this.gObject=null},u}(n)}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(t,e){var o;return o=function(t,e,i){var o,n;n=new google.maps.Polyline({map:t,clickable:!1}),o=google.maps.event.addListener(t,"mousemove",function(t){return n.getPath().push(t.latLng)}),google.maps.event.addListenerOnce(t,"mouseup",function(r){var s;return google.maps.event.removeListener(o),s=n.getPath(),n.setMap(null),e.push(new google.maps.Polygon({map:t,path:s})),n=null,google.maps.event.clearListeners(t.getDiv(),"mousedown"),i()})},function(n,r){var s,a;return this.map=n,s=function(e){return function(){var i;return i={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},t.info("disabling map move"),e.map.setOptions(i)}}(this),a=function(t){return function(){var e,o;return e={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(o=t.deferred)&&o.resolve(),i.defer(function(){return t.map.setOptions(i.extend(e,r.options))})}}(this),this.engage=function(i){return function(n){return i.polys=n,i.deferred=e.defer(),s(),t.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(t){return o(i.map,i.polys,a)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var o=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(r,s,a,l,u,p,h,c,d){return function(r){function g(t){this.internalEvents=o(this.internalEvents,this),this.setLabelOptions=o(this.setLabelOptions,this),this.setOptions=o(this.setOptions,this),this.setIcon=o(this.setIcon,this),this.setCoords=o(this.setCoords,this),this.isNotValid=o(this.isNotValid,this),this.maybeSetScopeValue=o(this.maybeSetScopeValue,this),this.createMarker=o(this.createMarker,this),this.setMyScope=o(this.setMyScope,this),this.updateModel=o(this.updateModel,this),this.handleModelChanges=o(this.handleModelChanges,this),this.destroy=o(this.destroy,this);var e,n,r,s,l,p,h;h=t.scope,this.model=t.model,this.keys=t.keys,this.gMap=t.gMap,this.defaults=null!=(n=t.defaults)?n:{},this.doClick=t.doClick,this.gManager=t.gManager,this.doDrawSelf=null==(r=t.doDrawSelf)||r,this.trackModel=null==(s=t.trackModel)||s,this.needRedraw=null!=(l=t.needRedraw)&&l,this.isScopeModel=null!=(p=t.isScopeModel)&&p,this.isScopeModel&&(this.clonedModel=i.clone(this.model,!0)),this.deferred=d.defer(),i.each(this.keys,function(t){return function(e,o){var n;return n=t.keys[o],null!=n&&!i.isFunction(n)&&i.isString(n)?t[o+"Key"]=n:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),g.__super__.constructor.call(this,h),this.scope.getGMarker=function(t){return function(){return t.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(t){return function(e,i){return e!==i?t.handleModelChanges(e,i):void 0}}(this),!0)):(e=new u(function(t){return function(e){return i.isFunction(e)&&(e="all"),t.firstTime?void 0:t.setMyScope(e,h)}}(this),!1),i.each(this.keys,function(t,i){return h.$watch(i,e.sic(i),!0)})),this.scope.$on("$destroy",function(t){return function(){return f(t)}}(this)),this.createMarker(this.model),a.info(this)}var f;return n(g,r),g.include(s),g.include(l),g.include(p),f=function(t){return null!=(null!=t?t.gObject:void 0)&&(t.removeEvents(t.externalListeners),t.removeEvents(t.internalListeners),null!=t?t.gObject:void 0)?(t.removeFromManager&&t.gManager.remove(t.gObject),t.gObject.setMap(null),t.gObject=null):void 0},g.prototype.destroy=function(t){return null==t&&(t=!0),this.removeFromManager=t,this.scope.$destroy()},g.prototype.handleModelChanges=function(t,e){var o,n,r;return o=this.getChanges(t,e,h.keys),this.firstTime?void 0:(n=0,r=i.keys(o).length,i.each(o,function(i){return function(o,s){var a;return n+=1,a=r===n,i.setMyScope(s,t,e,!1,!0,a),i.needRedraw=!0}}(this)))},g.prototype.updateModel=function(t){return this.isScopeModel&&(this.clonedModel=i.clone(t,!0)),this.setMyScope("all",t,this.model)},g.prototype.renderGMarker=function(e,i){var o,n,r;if(null==e&&(e=!0),o=this.getProp("coords",this.scope,this.model),null!=(null!=(r=this.gManager)?r.isSpiderfied:void 0)&&(n=this.gManager.isSpiderfied()),null!=o){if(!this.validateCoords(o))return void a.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=i&&i(),e&&this.gObject&&this.gManager.add(this.gObject),n)return this.gManager.markerSpiderfier.spiderListener(this.gObject,t.event)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},g.prototype.setMyScope=function(t,e,o,n,r){var s;switch(null==o&&(o=void 0),null==n&&(n=!1),null==r&&(r=!0),null==e?e=this.model:this.model=e,this.gObject||(this.setOptions(this.scope,r),s=!0),t){case"all":return i.each(this.keys,function(t){return function(i,s){return t.setMyScope(s,e,o,n,r)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:r});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:r});case"options":if(!s)return this.createMarker(e,o,n,r)}},g.prototype.createMarker=function(t,e,i,o){return null==e&&(e=void 0),null==i&&(i=!1),null==o&&(o=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:o}),this.firstTime=!1},g.prototype.maybeSetScopeValue=function(t){var e,i,o;return i=t.gSetter,e=null==(o=t.doDraw)||o,null!=i&&i(this.scope,e),this.doDrawSelf&&e?this.gManager.draw():void 0},g.prototype.isNotValid=function(t,e){var i;return null==e&&(e=!0),i=!!e&&void 0===this.gObject,!this.trackModel&&t.$id!==this.scope.$id||i},g.prototype.setCoords=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var i,o,n;return o=e.getProp("coords",t,e.model),i=e.getCoords(o),n=e.gObject.getPosition(),null==n||null==i||i.lng()!==n.lng()||i.lat()!==n.lat()?(e.gObject.setPosition(i),e.gObject.setVisible(e.validateCoords(o))):void 0}}(this))},g.prototype.setIcon=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var i,o,n;return n=e.gObject.getIcon(),o=e.getProp("icon",t,e.model),n!==o?(e.gObject.setIcon(o),i=e.getProp("coords",t,e.model),e.gObject.setPosition(e.getCoords(i)),e.gObject.setVisible(e.validateCoords(i))):void 0}}(this))},g.prototype.setOptions=function(t,e){var o;if(null==e&&(e=!0),!this.isNotValid(t,!1)){if(this.renderGMarker(e,function(e){return function(){var o,n,r;return n=e.getProp("coords",t,e.model),r=e.getProp("icon",t,e.model),o=e.getProp("options",t,e.model),e.opts=e.createOptions(n,r,o),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.isLabel(e.opts)?e.gObject=new MarkerWithLabel(e.setLabelOptions(e.opts)):e.opts.content?(e.gObject=new RichMarker(e.opts),e.gObject.getIcon=e.gObject.getContent,e.gObject.setIcon=e.gObject.setContent):e.gObject=new google.maps.Marker(e.opts),i.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==c.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");null!=(o=this.gObject)&&o.getMap()&&this.gManager.type===c.type||(a.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},g.prototype.setLabelOptions=function(t){return t.labelAnchor&&(t.labelAnchor=this.getLabelPositionPoint(t.labelAnchor)),t},g.prototype.internalEvents=function(){return{dragend:function(t){return function(e,i,o,n){var r,s,a;return s=t.trackModel?t.scope.model:t.model,a=t.setCoordsFromEvent(t.modelOrKey(s,t.coordsKey),t.gObject.getPosition()),s=t.setVal(o,t.coordsKey,a),r=t.scope.events,null!=(null!=r?r.dragend:void 0)&&r.dragend(e,i,s,n),t.scope.$apply()}}(this),click:function(t){return function(i,o,n,r){var s;return s=t.getProp("click",t.scope,t.model),t.doClick&&e.isFunction(s)?t.scope.$evalAsync(s(i,o,t.model,r)):void 0}}(this)}},g}(r)}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(e,i){var o,n;return n=function(t){return new google.maps.Polygon(t)},o=new e(i,n),function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i}(o)}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(e,i){var o,n;return n=function(t){return new google.maps.Polyline(t)},o=e(i,n),function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i}(o)}])}.call(this),function(){var o=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,s,a,l,u,p,h,c){return function(r){function d(t){this.updateModel=o(this.updateModel,this),this.destroy=o(this.destroy,this),this.remove=o(this.remove,this),this.getLatestPosition=o(this.getLatestPosition,this),this.hideWindow=o(this.hideWindow,this),this.showWindow=o(this.showWindow,this),this.handleClick=o(this.handleClick,this),this.watchOptions=o(this.watchOptions,this),this.watchCoords=o(this.watchCoords,this),this.createGWin=o(this.createGWin,this),this.watchElement=o(this.watchElement,this),this.watchAndDoShow=o(this.watchAndDoShow,this),this.doShow=o(this.doShow,this);var e,n,r,s,l;this.model=null!=(n=t.model)?n:{},this.scope=t.scope,this.opts=t.opts,this.isIconVisibleOnClick=t.isIconVisibleOnClick,this.gMap=t.gMap,this.markerScope=t.markerScope,this.element=t.element,this.needToManualDestroy=null!=(r=t.needToManualDestroy)&&r,this.markerIsVisibleAfterWindowClose=null==(s=t.markerIsVisibleAfterWindowClose)||s,this.isScopeModel=null!=(l=t.isScopeModel)&&l,this.isScopeModel&&(this.clonedModel=i.clone(this.model,!0)),this.getGmarker=function(){var t,e;return null!=(null!=(t=this.markerScope)?t.getGMarker:void 0)&&null!=(e=this.markerScope)?e.getGMarker():void 0},this.listeners=[],this.createGWin(),null!=(e=this.getGmarker())&&e.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(t){return function(){return t.destroy()}}(this)),a.info(this)}return n(d,r),d.include(s),d.include(c),d.prototype.doShow=function(t){return!0===this.scope.show||t?this.showWindow():this.hideWindow()},d.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},d.prototype.watchElement=function(){return this.scope.$watch(function(t){return function(){var e,i;return(t.element||t.html)&&t.html!==t.element.html()&&t.gObject?(null!=(e=t.opts)&&(e.content=void 0),i=t.gObject.isOpen(),t.remove(),t.createGWin(i)):void 0}}(this))},d.prototype.createGWin=function(e){var o,n,r,s,a;return null==e&&(e=!1),r=this.getGmarker(),n={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),n=this.opts),this.element&&(this.html=i.isObject(this.element)?this.element.html():this.element),o=this.scope.options?this.scope.options:n,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,o),null!=this.opts?(this.gObject||(this.opts.boxClass&&t.InfoBox&&"function"==typeof t.InfoBox?this.gObject=new t.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return h.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(t){return function(){return r&&(r.setAnimation(t.oldMarkerAnimation),t.markerIsVisibleAfterWindowClose&&i.delay(function(){return r.setVisible(!1),r.setVisible(t.markerIsVisibleAfterWindowClose)},250)),t.gObject.close(),t.model.show=!1,null!=t.scope.closeClick?t.scope.$evalAsync(t.scope.closeClick()):t.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(s=this.scope)&&null!=(a=s.options)?a.forceClick:void 0)||e),this.doShow(this.gObject.isOpen())):void 0},d.prototype.watchCoords=function(){return(null!=this.markerScope?this.markerScope:this.scope).$watch("coords",function(t){return function(e,i){var o;if(e!==i){if(null==e)t.hideWindow();else if(!t.validateCoords(e))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(t.model));if(o=t.getCoords(e),t.doShow(),t.gObject.setPosition(o),t.opts)return t.opts.position=o}}}(this),!0)},d.prototype.watchOptions=function(){return this.scope.$watch("options",function(t){return function(e,i){if(e!==i&&(t.opts=e,null!=t.gObject)){if(t.gObject.setOptions(t.opts),null!=t.opts.visible&&t.opts.visible)return t.showWindow();if(null!=t.opts.visible)return t.hideWindow()}}}(this),!0)},d.prototype.handleClick=function(t){var e,i;return null!=this.gObject?(i=this.getGmarker(),e=function(t){return function(){return null==t.gObject&&t.createGWin(),t.showWindow(),null!=i?(t.initialMarkerVisibility=i.getVisible(),t.oldMarkerAnimation=i.getAnimation(),i.setVisible(t.isIconVisibleOnClick)):void 0}}(this),t&&e(),i?this.listeners=this.listeners.concat(this.setEvents(i,{events:{click:e}},this.model)):void 0):void 0},d.prototype.showWindow=function(){var t,i,o;return null!=this.gObject?(o=null,i=function(t){return function(){var e,i,o;if(!t.gObject.isOpen()){if(i=t.getGmarker(),null!=t.gObject&&null!=t.gObject.getPosition&&(o=t.gObject.getPosition()),i&&(o=i.getPosition()),!o)return;if(t.gObject.open(t.gMap,i),e=t.gObject.isOpen(),t.model.show!==e)return t.model.show=e}}}(this),this.scope.templateUrl?u.get(this.scope.templateUrl,{cache:p}).then(function(t){return function(n){var r;return o=t.scope.$new(),e.isDefined(t.scope.templateParameter)&&(o.parameter=t.scope.templateParameter),r=l(n.data)(o),t.gObject.setContent(r[0]),i()}}(this)):this.scope.template?(o=this.scope.$new(),e.isDefined(this.scope.templateParameter)&&(o.parameter=this.scope.templateParameter),t=l(this.scope.template)(o),this.gObject.setContent(t[0]),i()):i(),this.scope.$on("destroy",function(){return o.$destroy()})):void 0},d.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},d.prototype.getLatestPosition=function(t){var e;return e=this.getGmarker(),null==this.gObject||null==e||t?t?this.gObject.setPosition(t):void 0:this.gObject.setPosition(e.getPosition())},d.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},d.prototype.destroy=function(t){var e;return null==t&&(t=!1),this.remove(),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?void 0:this.scope.$destroy()},d.prototype.updateModel=function(t){return this.isScopeModel&&(this.clonedModel=i.clone(t,!0)),i.extend(this.model,this.clonedModel||t)},d}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(n,r,s,a,l,u,p,h){return function(n,c,d){return function(s){function g(e,o,s,a,u){this.element=o,this.attrs=s,this.gMap=a,this.defaults=u,this.maybeFit=t(this.maybeFit,this),this.createChild=t(this.createChild,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),g.__super__.constructor.call(this,e),this.interface=n,this.$log=r,this.plurals=new l,i.each(n.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return o(g,s),g.include(a),g.prototype.watchModels=function(t){return t.$watch("models",function(e){return function(i,o){return i!==o?e.doINeedToWipe(i)||t.doRebuildAll?e.rebuildAll(t,!0,!0):e.createChildScopes(!1):void 0}}(this),!0)},g.prototype.doINeedToWipe=function(t){var e;return e=null==t||0===t.length,this.plurals.length>0&&e},g.prototype.rebuildAll=function(t,e,i){return this.onDestroy(i).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},g.prototype.onDestroy=function(){return g.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,p.promiseTypes.delete,void 0,void 0,function(t){return function(){return u.each(t.plurals.values(),function(t){return t.destroy(!0)},u.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},g.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.rebuildAll(t,!1,!0)}}(this))},g.prototype.createChildScopes=function(t){return null==t&&(t=!0),e.isUndefined(this.scope.models)?void this.$log.error("No models to create "+d+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},g.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(i,o){return i!==o&&null==i?(e.idKey=i,e.rebuildAll(t,!0,!0)):void 0}}(this))},g.prototype.createAllNew=function(t,e){var i;return null==e&&(e=!1),this.models=t.models,this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.didQueueInitPromise(this,t)?void 0:(i=null,u.promiseLock(this,p.promiseTypes.create,"createAllNew",function(t){return i=t},function(e){return function(){return u.map(t.models,function(t){var o;return o=e.createChild(t,e.gMap),i&&(r.debug("createNew should fall through safely"),o.isEnabled=!1),o.pathPoints.getArray()},u.chunkSizeFrom(t.chunk)).then(function(t){return e.maybeFit(t),e.firstTime=!1})}}(this)))},g.prototype.pieceMeal=function(t,e){var o,n;return null==e&&(e=!0),t.$$destroyed?void 0:(o=null,n=null,this.models=t.models,null!=t&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(t){return o=t},function(e){return function(){return p.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(r){return(n=r).updates.length&&u.each(n.updates,function(t){return i.extend(t.child.scope,t.model),t.child.model=t.model}),u.each(n.removals,function(t){return null!=t?(t.destroy(),e.plurals.remove(t.model[e.idKey]),o):void 0},u.chunkSizeFrom(t.chunk))}).then(function(){return u.each(n.adds,function(t){return o&&r.debug("pieceMeal should fall through safely"),e.createChild(t,e.gMap),o},u.chunkSizeFrom(t.chunk)).then(function(){return e.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},g.prototype.createChild=function(t,e){var i,o;return o=this.scope.$new(!1),this.setChildScope(n.scopeKeys,o,t),o.$watch("model",function(t){return function(e,i){return e!==i?t.setChildScope(n.scopeKeys,o,e):void 0}}(this),!0),o.static=this.scope.static,i=new c({isScopeModel:!0,scope:o,attrs:this.attrs,gMap:e,defaults:this.defaults,model:t,gObjectChangeCb:function(t){return function(){return t.maybeFit()}}(this)}),null==t[this.idKey]?void this.$log.error(d+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(t[this.idKey],i),i)},g.prototype.maybeFit=function(t){return null==t&&(t=this.plurals.map(function(t){return t.pathPoints})),this.scope.fit?(t=i.flatten(t),h.fit(t,this.gMap)):void 0},g}(s)}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(o,n,r,s,a){var l;return l=function(t,e){return t.settingFromDirective=!0,e(),n(function(){return t.settingFromDirective=!1})},function(n){function a(t,n,s,a,u){var p,h,c;this.attrs=s,this.gMap=a,this.DEFAULTS=u,this.scope=t,c=null,p=function(t){return function(){return c=null,null!=t.listeners?(t.removeEvents(t.listeners),t.listeners=void 0):void 0}}(this),h=new google.maps.Circle(this.buildOpts(r.getCoords(t.center),t.radius)),this.setMyOptions=function(e){return function(o,n){return t.settingFromDirective?void 0:!i.isEqual(o,n)||o!==n||null!=o&&null!=n&&o.coordinates!==n.coordinates?h.setOptions(e.buildOpts(r.getCoords(t.center),t.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return h}),p(),this.listeners=this.setEvents(h,t,t,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(h,"radius_changed",function(){var o,n;return o=h.getRadius(),o!==c?(c=o,n=function(){return l(t,function(){var e,n;return o!==t.radius&&(t.radius=o),(null!=(e=t.events)?e.radius_changed:void 0)&&i.isFunction(null!=(n=t.events)?n.radius_changed:void 0)?t.events.radius_changed(h,"radius_changed",t,arguments):void 0})},e.mock?n():t.$evalAsync(function(){return n()})):void 0})),this.listeners.push(google.maps.event.addListener(h,"center_changed",function(){return t.$evalAsync(function(){return l(t,function(){return e.isDefined(t.center.type)?(t.center.coordinates[1]=h.getCenter().lat(),t.center.coordinates[0]=h.getCenter().lng()):(t.center.latitude=h.getCenter().lat(),t.center.longitude=h.getCenter().lng())})})})),t.$on("$destroy",function(){return p(),h.setMap(null)}),o.info(this)}return t(a,n),a.include(r),a.include(s),a}(a)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(e,o,n,r){return function(e){function o(t,e,o,n){var r,s;this.scope=t,this.attrs=o,this.map=n,(r=new google.maps.drawing.DrawingManager(this.scope.options)).setMap(this.map),s=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope.static&&this.scope.options&&this.scope.$watch("options",function(t){return null!=r?r.setOptions(t):void 0},!0),null!=this.scope.events&&(s=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,o){return i.isEqual(e,o)?void 0:(null!=s&&t.removeEvents(s),s=t.setEvents(r,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(t){return function(){return null!=s&&t.removeEvents(s),r.setMap(null),r=null}}(this))}return t(o,e),o.include(r),o}(n)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(n,r){return function(n){function s(i,o,n,a){if(this.scope=i,this.element=o,this.attrs=n,this.map=a,this.onWatch=t(this.onWatch,this),this.watch=t(this.watch,this),this.validateScope=t(this.validateScope,this),s.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=e.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(t){return function(){return t.onDestroy(t.scope)}}(this))}return o(s,n),s.prototype.DEFAULTS={},s.prototype.validateScope=function(t){return null==t?(this.$log.error(this.constructor.name+": invalid scope used"),!1):null!=t.coords||(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1)},s.prototype.watch=function(t,e,o){return null==o&&(o=!0),e.$watch(t,function(o){return function(n,r){return i.isEqual(n,r)?void 0:o.onWatch(t,e,n,r)}}(this),o)},s.prototype.onWatch=function(t,e,i,o){},s}(n)}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(e,i,o){return function(e){function n(t,e,i,r,s,a,l,u){n.__super__.constructor.call(this,t),this.$log=o,this.$timeout=s,this.$compile=a,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=t.options&&(this.DEFAULTS=t.options)}return t(n,e),n.include(i),n.prototype.getItem=function(t,e,i){return"models"===e?t[e][i]:t[e].get(i)},n}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(o,n,r){return function(o){function r(i,o,r,s,a,l){return this.scope=i,this.element=o,this.attrs=r,this.gMap=s,this.onLayerCreated=null!=a?a:void 0,this.$log=null!=l?l:n,this.createGoogleLayer=t(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(t){return function(e,i){return e!==i?(t.doShow=e,e?t.gObject.setMap(t.gMap):t.gObject.setMap(null)):void 0}}(this),!0),this.scope.$watch("options",function(t){return function(e,i){return e!==i&&t.doShow?t.gObject.setOptions(e):void 0}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.gObject.setMap(null)}}(this)))}return i(r,o),r.prototype.createGoogleLayer=function(){var t;return null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(t=this.onLayerCreated(this.scope,this.gObject))?t(this.gObject):void 0},r}(o)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(n,r){return function(n){function s(o,n,s,a,l,u,p){var h,c,d,g;return this.scope=o,this.element=n,this.attrs=s,this.gMap=a,this.$log=null!=l?l:r,this.childModel=u,this.propMap=p,this.refreshShown=t(this.refreshShown,this),this.hideOverlay=t(this.hideOverlay,this),this.showOverlay=t(this.showOverlay,this),this.refreshMapType=t(this.refreshMapType,this),this.createMapType=t(this.createMapType,this),null==this.scope.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),this.refreshShown(),this.doShow&&null!=this.gMap&&this.showOverlay(),c=function(t){return function(){return t.childModel[t.attrs.show]}}(this),g=this.childModel?c:"show",this.scope.$watch(g,function(t){return function(e,i){return e!==i?(t.doShow=e,e?t.showOverlay():t.hideOverlay()):void 0}}(this)),h=function(t){return function(){return t.childModel[t.attrs.options]}}(this),d=this.childModel?h:"options",this.scope.$watchCollection(d,function(t){return function(e,o){var n;return!i.isEqual(e,o)&&(n=["tileSize","maxZoom","minZoom","name","alt"],i.some(n,function(t){return!o||!e||!i.isEqual(e[t],o[t])}))?t.refreshMapType():void 0}}(this)),e.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(t){return function(e,o){return i.isEqual(e,o)?void 0:t.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.hideOverlay(),t.mapType=null}}(this)))}return o(s,n),s.prototype.createMapType=function(){var t,i,o;if(null!=(o=this.childModel?this.attrs.options?this.childModel[this.attrs.options]:this.childModel:this.scope.options).getTile)this.mapType=o;else{if(null==o.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(o)}return i=this.attrs.id?this.childModel?this.attrs.id:"id":void 0,(t=i?this.childModel?this.childModel[i]:this.scope[i]:void 0)&&(this.gMap.mapTypes.set(t,this.mapType),e.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id,this.childModel&&e.isDefined(this.scope.index)?this.propMap.put(this.mapType.layerId,this.scope.index):void 0},s.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},s.prototype.showOverlay=function(){var t;return e.isDefined(this.scope.index)?(t=!1,this.gMap.overlayMapTypes.getLength()?(this.gMap.overlayMapTypes.forEach(function(i){return function(o,n){var r;t||((r=i.propMap.get(o.layerId.toString()))>i.scope.index||!e.isDefined(r))&&(t=!0,i.gMap.overlayMapTypes.insertAt(n,i.mapType))}}(this)),t?void 0:this.gMap.overlayMapTypes.push(this.mapType)):this.gMap.overlayMapTypes.push(this.mapType)):this.gMap.overlayMapTypes.push(this.mapType)},s.prototype.hideOverlay=function(){var t;return t=!1,this.gMap.overlayMapTypes.forEach(function(e){return function(i,o){t||i.layerId!==e.id||(t=!0,e.gMap.overlayMapTypes.removeAt(o))}}(this))},s.prototype.refreshShown=function(){return this.doShow=!e.isDefined(this.attrs.show)||(this.childModel?this.childModel[this.attrs.show]:this.scope.show)},s}(n)}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypesParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapMapTypeParentModel","uiGmapPropMap",function(e,i,o,n){return function(e){function r(t,e,r,s,a){var l;return this.scope=t,this.element=e,this.attrs=r,this.gMap=s,this.$log=null!=a?a:i,null==this.attrs.mapTypes?void this.$log.info("layers attribute for the map-types directive is mandatory. Map types creation aborted!!"):(l=new n,void this.scope.mapTypes.forEach(function(t){return function(e,i){var n,r;r={options:t.scope.options,show:t.scope.show,refresh:t.scope.refresh},(n=t.scope.$new()).index=i,new o(n,null,r,t.gMap,t.$log,e,l)}}(this)))}return t(r,e),r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(n,r,s,a,l,u,p,h,c,d,g,f,m){var v;return v=function(t,e){return e.plurals=new s,e.scope.plurals=e.plurals,e},function(n){function h(e,o,n,r){this.maybeExecMappedEvent=t(this.maybeExecMappedEvent,this),this.onDestroy=t(this.onDestroy,this),this.newChildMarker=t(this.newChildMarker,this),this.pieceMeal=t(this.pieceMeal,this),this.rebuildAll=t(this.rebuildAll,this),this.createAllNew=t(this.createAllNew,this),this.bindToTypeEvents=t(this.bindToTypeEvents,this),this.createChildScopes=t(this.createChildScopes,this),this.validateScope=t(this.validateScope,this),this.onWatch=t(this.onWatch,this),h.__super__.constructor.call(this,e,o,n,r),this.interface=c,v(new s,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(t){return function(e,i){return e!==i?t.doRebuildAll=e:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(t){return function(e,o){if(!i.isEqual(e,o)||!t.modelsRendered){if(0===e.length&&0===o.length)return;return t.modelsRendered=!0,t.onWatch("models",t.scope,e,o)}}}(this),!this.isTrue(n.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return o(h,n),h.include(g),h.include(r),h.prototype.onWatch=function(t,e,i,o){return"idKey"===t&&i!==o&&(this.idKey=i),this.doRebuildAll||"doCluster"===t||"type"===t?this.rebuildAll(e):this.pieceMeal(e)},h.prototype.validateScope=function(t){var i;return(i=e.isUndefined(t.models)||void 0===t.models)&&this.$log.error(this.constructor.name+": no valid models attribute found"),h.__super__.validateScope.call(this,t)||i},h.prototype.createChildScopes=function(t){return null!=this.gMap&&null!=this.scope.models?t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},h.prototype.bindToTypeEvents=function(t,o){var n,r;return null==o&&(o=["click","mouseout","mouseover"]),r=this,this.origTypeEvents?e.extend(t,this.origTypeEvents):(this.origTypeEvents={},i.each(o,function(e){return function(i){return e.origTypeEvents[i]=null!=t?t[i]:void 0}}(this))),n={},i.each(o,function(t){return n[t]=function(e){return r.maybeExecMappedEvent(e,t)}}),e.extend(t,n)},h.prototype.createAllNew=function(t){var e,i,o,n;return null!=this.gManager&&(this.gManager instanceof m&&(e=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),o=t.typeEvents||t.clusterEvents,n=t.typeOptions||t.clusterOptions,t.doCluster||"cluster"===t.type?(null!=o&&this.bindToTypeEvents(o),this.gManager=new u(this.map,void 0,n,o)):"spider"===t.type?(null!=o&&this.bindToTypeEvents(o,["spiderfy","unspiderfy"]),this.gManager=new m(this.map,void 0,n,o,this.scope),e&&this.gManager.spiderfy()):this.gManager=new p(this.map),this.didQueueInitPromise(this,t)?void 0:(i=null,l.promiseLock(this,d.promiseTypes.create,"createAllNew",function(t){return i=t},function(e){return function(){return l.each(t.models,function(o){return e.newChildMarker(o,t),i},l.chunkSizeFrom(t.chunk)).then(function(){return e.modelsRendered=!0,t.fit&&e.gManager.fit(),e.gManager.draw(),e.scope.pluralsUpdate.updateCtr+=1},l.chunkSizeFrom(t.chunk))}}(this)))},h.prototype.rebuildAll=function(t){var e;return t.doRebuild||void 0===t.doRebuild?(null!=(e=this.scope.plurals)?e.length:void 0)?this.onDestroy(t).then(function(e){return function(){return e.createAllNew(t)}}(this)):this.createAllNew(t):void 0},h.prototype.pieceMeal=function(t){var e,i;return t.$$destroyed?void 0:(e=null,i=null,this.modelsLength()&&this.scope.plurals.length?l.promiseLock(this,d.promiseTypes.update,"pieceMeal",function(t){return e=t},function(o){return function(){return d.promise(function(){return o.figureOutState(o.idKey,t,o.scope.plurals,o.modelKeyComparison)}).then(function(n){return i=n,l.each(i.removals,function(t){return null!=t?(null!=t.destroy&&t.destroy(),o.scope.plurals.remove(t.id),e):void 0},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(i.adds,function(i){return o.newChildMarker(i,t),e},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(i.updates,function(t){return o.updateChild(t.child,t.model),e},l.chunkSizeFrom(t.chunk))}).then(function(){return(i.adds.length>0||i.removals.length>0||i.updates.length>0)&&(t.plurals=o.scope.plurals,t.fit&&o.gManager.fit(),o.gManager.draw()),o.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(t)))},h.prototype.newChildMarker=function(t,e){var i,o,n;if(!t)throw"model undefined";return null==t[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",i,"markers",this.scope.markerModels),o=e.$new(!1),o.events=e.events,n={},c.scopeKeys.forEach(function(t){return n[t]=e[t]}),i=new a({scope:o,model:t,keys:n,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(t[this.idKey],i),i)},h.prototype.onDestroy=function(t){return h.__super__.onDestroy.call(this,t),l.promiseLock(this,d.promiseTypes.delete,void 0,void 0,function(t){return function(){return l.each(t.scope.plurals.values(),function(t){return null!=t?t.destroy(!1):void 0},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return null!=t.gManager&&t.gManager.destroy(),t.plurals.removeAll(),t.plurals!==t.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),t.scope.pluralsUpdate.updateCtr+=1})}}(this))},h.prototype.maybeExecMappedEvent=function(t,e){var o,n;return this.scope.$$destroyed?void 0:(n=this.scope.typeEvents||this.scope.clusterEvents,i.isFunction(null!=n?n[e]:void 0)&&(o=this.mapTypeToPlurals(t),this.origTypeEvents[e])?this.origTypeEvents[e](o.group,o.mapped):void 0)},h.prototype.mapTypeToPlurals=function(t){var e,o,n;return i.isArray(t)?e=t:i.isFunction(t.getMarkers)&&(e=t.getMarkers()),null==e?void f.error("Unable to map event as we cannot find the array group to map"):(o=(null!=(n=this.scope.plurals.values())?n.length:void 0)?e.map(function(t){return function(e){return t.scope.plurals.get(e.key).model}}(this)):[],{cluster:t,mapped:o,group:t})},h.prototype.getItem=function(t,e,i){return"models"===e?t[e][i]:t[e].get(i)},h}(n)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(t){return e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+t+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+t+"ChildModel","uiGmapI"+t,function(e,i,o){return e(o,i,t)}])})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(e,o,n,r){return function(r){function s(t,o,n,r,s){var a,l,u,p,h,c,d,g,f,m,v;this.scope=t,this.attrs=n,this.gMap=r,this.DEFAULTS=s,a=void 0,p=!1,f=[],g=void 0,h=function(t){return function(){return t.isTrue(t.attrs.fit)?t.fitMapBounds(t.gMap,a):void 0}}(this),(u=function(t){return function(){var i,o,n;return null!=t.scope.bounds&&null!=(null!=(i=t.scope.bounds)?i.sw:void 0)&&null!=(null!=(o=t.scope.bounds)?o.ne:void 0)&&t.validateBoundPoints(t.scope.bounds)?(a=t.convertBoundPoints(t.scope.bounds),e.info("new new bounds created: "+JSON.stringify(a))):null!=t.scope.bounds.getNorthEast&&null!=t.scope.bounds.getSouthWest?a=t.scope.bounds:null!=t.scope.bounds?e.error("Invalid bounds for newValue: "+JSON.stringify(null!=(n=t.scope)?n.bounds:void 0)):void 0}}(this))(),c=new google.maps.Rectangle(this.buildOpts(a)),e.info("gObject (rectangle) created: "+c),m=!1,v=function(t){return function(){var e,i,o;return e=c.getBounds(),i=e.getNorthEast(),o=e.getSouthWest(),m?void 0:t.scope.$evalAsync(function(t){return null!=t.bounds&&null!=t.bounds.sw&&null!=t.bounds.ne&&(t.bounds.ne={latitude:i.lat(),longitude:i.lng()},t.bounds.sw={latitude:o.lat(),longitude:o.lng()}),null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest?t.bounds=e:void 0})}}(this),d=function(t){return function(){return h(),t.removeEvents(f),f.push(google.maps.event.addListener(c,"dragstart",function(){return p=!0})),f.push(google.maps.event.addListener(c,"dragend",function(){return p=!1,v()})),f.push(google.maps.event.addListener(c,"bounds_changed",function(){return p?void 0:v()}))}}(this),l=function(t){return function(){return t.removeEvents(f),null!=g&&t.removeEvents(g),c.setMap(null)}}(this),null!=a&&d(),this.scope.$watch("bounds",function(t,e){var o;return i.isEqual(t,e)&&null!=a||p?void 0:(m=!0,null==t?void l():(null==a?o=!0:h(),u(),c.setBounds(a),m=!1,o&&null!=a?d():void 0))},!0),this.setMyOptions=function(t){return function(e,o){return i.isEqual(e,o)||null==a||null==e?void 0:c.setOptions(t.buildOpts(a))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(g=this.setEvents(c,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,o){return i.isEqual(e,o)?void 0:(null!=g&&t.removeEvents(g),g=t.setEvents(c,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(){return l()}),e.info(this)}return t(s,r),s.include(o),s.include(n),s}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(o,n,r){return function(o){function s(i,o,r,s,a,l,u){var p;return this.scope=i,this.element=o,this.attrs=r,this.gMap=s,this.ctrlPosition=a,this.template=l,this.$log=null!=u?u:n,this.setVisibility=t(this.setVisibility,this),this.getBounds=t(this.getBounds,this),this.setBounds=t(this.setBounds,this),this.createSearchBox=t(this.createSearchBox,this),this.addToParentDiv=t(this.addToParentDiv,this),this.addAsMapControl=t(this.addAsMapControl,this),this.init=t(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(e.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),e.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),e.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,(p=e.element("<div></div>")).append(this.template),this.input=p.find("input")[0],void this.init())}return i(s,o),s.include(r),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(t){return function(i,o){return e.isObject(i)&&(null!=i.bounds&&t.setBounds(i.bounds),null!=i.visible&&t.visible!==i.visible)?t.setVisibility(i.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(t){return function(){return t.places=t.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(t){return function(){return t.places=t.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(t){return function(){return null!=t.attrs.parentdiv?t.addToParentDiv():void 0}}(this)),this.scope.$on("$destroy",function(t){return function(){return t.gObject=null}}(this))},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){var t;return this.parentDiv=e.element(document.getElementById(this.scope.parentdiv)),(null!=(t=this.parentDiv)?t.length:void 0)?this.parentDiv.append(this.input):void 0},s.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(t){if(e.isUndefined(t.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(!1===t.isEmpty()&&null!=this.gObject)return this.gObject.setBounds(t)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(t){return null!=this.attrs.parentdiv?!1===t?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):!1===t?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=t},s}(o)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(n,r,s,a,l,u,p,h,c,d,g,f,m,v,y){return function(n){function _(e,o,n,r,a,u){this.gMap=a,this.markersScope=u,this.modelKeyComparison=t(this.modelKeyComparison,this),this.interpolateContent=t(this.interpolateContent,this),this.setChildScope=t(this.setChildScope,this),this.createWindow=t(this.createWindow,this),this.setContentKeys=t(this.setContentKeys,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchOurScope=t(this.watchOurScope,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),this.go=t(this.go,this),_.__super__.constructor.call(this,e,o,n,r,h,c,d,g),this.interface=v,this.plurals=new s,i.each(v.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.linked=new l(e,o,n,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(e)}return o(_,n),_.include(r),_.prototype.go=function(t){return this.watchOurScope(t),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,t.$watch("doRebuildAll",function(t){return function(e,i){return e!==i?t.doRebuildAll=e:void 0}}(this)),this.createChildScopes()},_.prototype.watchModels=function(t){var e;return e=null!=this.markersScope?"pluralsUpdate":"models",t.$watch(e,function(e){return function(o,n){var r;return!i.isEqual(o,n)||e.firstWatchModels?(e.firstWatchModels=!1,e.doRebuildAll||e.doINeedToWipe(t.models)?e.rebuildAll(t,!0,!0):(r=0===e.plurals.length,null!=e.existingPieces?i.last(e.existingPieces._content).then(function(){return e.createChildScopes(r)}):e.createChildScopes(r))):void 0}}(this),!0)},_.prototype.doINeedToWipe=function(t){var e;return e=null==t||0===t.length,this.plurals.length>0&&e},_.prototype.rebuildAll=function(t,e,i){return this.onDestroy(i).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},_.prototype.onDestroy=function(t){return _.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,m.promiseTypes.delete,void 0,void 0,function(t){return function(){return u.each(t.plurals.values(),function(t){return t.destroy(!0)},u.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},_.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.firstWatchModels=!0,e.firstTime=!0,e.rebuildAll(t,!1,!0)}}(this))},_.prototype.watchOurScope=function(t){return i.each(v.scopeKeys,function(e){return function(i){var o;return o=i+"Key",e[o]="function"==typeof t[i]?t[i]():t[i]}}(this))},_.prototype.createChildScopes=function(t){var i,o,n;return null==t&&(t=!0),this.isIconVisibleOnClick=!0,e.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),i=e.isUndefined(this.linked.scope.models),!i||void 0!==this.markersScope&&void 0!==(null!=(o=this.markersScope)?o.plurals:void 0)&&void 0!==(null!=(n=this.markersScope)?n.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),t?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),t?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},_.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(i,o){return i!==o&&null==i?(e.idKey=i,e.rebuildAll(t,!0,!0)):void 0}}(this))},_.prototype.createAllNew=function(t,e,i,o){var n;return null==i&&(i="models"),null==o&&(o=!1),this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.setContentKeys(t.models),this.didQueueInitPromise(this,t)?void 0:(n=null,u.promiseLock(this,m.promiseTypes.create,"createAllNew",function(t){return n=t},function(o){return function(){return u.each(t.models,function(r){var s,a;return s=e&&null!=(a=o.getItem(t,i,r[o.idKey]))?a.gObject:void 0,n||(!s&&o.markersScope&&p.error("Unable to get gMarker from markersScope!"),o.createWindow(r,s,o.gMap)),n},u.chunkSizeFrom(t.chunk)).then(function(){return o.firstTime=!1})}}(this)))},_.prototype.pieceMeal=function(t,e,i,o){var n,r;return null==i&&(i="models"),null==o&&(o=!0),t.$$destroyed?void 0:(n=null,r=null,null!=t&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,m.promiseTypes.update,"pieceMeal",function(t){return n=t},function(e){return function(){return m.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(i){return r=i,u.each(r.removals,function(t){return null!=t?(e.plurals.remove(t.id),null!=t.destroy&&t.destroy(!0),n):void 0},u.chunkSizeFrom(t.chunk))}).then(function(){return u.each(r.adds,function(o){var r,s;if(!(r=null!=(s=e.getItem(t,i,o[e.idKey]))?s.gObject:void 0))throw"Gmarker undefined";return e.createWindow(o,r,e.gMap),n})}).then(function(){return u.each(r.updates,function(t){return e.updateChild(t.child,t.model),n},u.chunkSizeFrom(t.chunk))})}}(this)):(p.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},_.prototype.setContentKeys=function(t){return this.modelsLength(t)?this.contentKeys=Object.keys(t[0]):void 0},_.prototype.createWindow=function(t,e,i){var o,n,r,s,l,u;return n=this.linked.scope.$new(!1),this.setChildScope(n,t),n.$watch("model",function(t){return function(e,i){return e!==i?t.setChildScope(n,e):void 0}}(this),!0),r={html:function(e){return function(){return e.interpolateContent(e.linked.element.html(),t)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,t)||{},s=this.createWindowOptions(e,n,r.html(),this.DEFAULTS),o=new a({model:t,scope:n,opts:s,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:i,markerScope:null!=(l=this.markersScope)&&null!=(u=l.plurals.get(t[this.idKey]))?u.scope:void 0,element:r,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==t[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(t[this.idKey],o),o)},_.prototype.setChildScope=function(t,e){return i.each(v.scopeKeys,function(i){return function(o){var n,r;return n=o+"Key",r="self"===i[n]?e:e[i[n]],r!==t[o]?t[o]=r:void 0}}(this)),t.model=e},_.prototype.interpolateContent=function(t,e){var i,o,n,r,s,a;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(i=f(t),n={},o=0,s=(a=this.contentKeys).length;s>o;o++)r=a[o],n[r]=e[r];return i(n)}},_.prototype.modelKeyComparison=function(t,e){var o,n;if(null==(n=null!=this.scope.coords?this.scope:this.parentScope))throw"No scope or parentScope set!";return(o=y.equalCoords(this.evalModelHandle(t,n.coords),this.evalModelHandle(e,n.coords)))?o=i.every(i.without(this.interface.scopeKeys,"coords"),function(i){return function(o){return i.evalModelHandle(t,n[o])===i.evalModelHandle(e,n[o])}}(this)):o},_}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(t,e){return i.extend(t,{link:function(t,i,o,n){return n.getScope().deferred.promise.then(function(n){return new e(t,i,o,n)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(o,n,r,s,a,l){return function(u){function p(){this.link=t(this.link,this),p.__super__.constructor.call(this)}return i(p,u),p.prototype.transclude=!0,p.prototype.link=function(t,i,u,p,h){return l.then(function(i){return function(l){var u,c,d;return u=e.isUndefined(t.template),c=e.isDefined(t.index&&!isNaN(parseInt(t.index)))?parseInt(t.index):void 0,d=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?o.mapPromise(t,p).then(function(o){var l,p,g;return l=void 0,p=e.element("<div></div>"),g=function(t,e,i){return i&&(e[0].index=i),t.controls[google.maps.ControlPosition[d]].push(e[0])},u?h(function(t){return p.append(t),g(o,p.children(),c)}):n.get(t.template,{cache:r}).then(function(i){var o,n,r;return o=i.data,r=t.$new(),p.append(o),e.isDefined(t.controller)&&(n=a(t.controller,{$scope:r}),p.children().data("$ngControllerController",n)),l=s(p.children())(r)}).catch(function(t){return i.$log.error("mapControl: template could not be found")}).then(function(){return g(o,l,c)})}):void i.$log.error("mapControl: invalid position property")}}(this))},p}(o)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(t,e){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(e,o){return e.ctrlType="uiGmapDragZoom",i.extend(this,t.handle(e,o))}],link:function(i,o,n,r){return t.mapPromise(i,r).then(function(t){var o,n,r;return o=function(e){return t.enableKeyDragZoom(e)},n=new e(function(t,e){return e?o({key:e}):o()}),r=new e(function(t,e){return e?o(e):void 0}),i.$watch("keyboardkey",n.sic("keyboardkey")),n.sic(i.keyboardkey),i.$watch("options",r.sic("options")),r.sic(i.options)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(t,e){return i.extend(t,{link:function(t,i,o,n){return n.getScope().deferred.promise.then(function(n){return new e(t,i,o,n)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(e,n,r,s,a){return function(n){function l(){return this.link=t(this.link,this),l.__super__.constructor.apply(this,arguments)}return o(l,n),l.include(r),l.prototype.restrict="EMA",l.prototype.replace=!0,l.prototype.require="^uiGmapGoogleMap",l.prototype.scope={polygons:"=",draw:"="},l.prototype.link=function(t,o,n,r){return this.mapPromise(t,r).then(function(o){return function(o){var n,l;return t.polygons?i.isArray(t.polygons)?(n=new s(o,r.getScope()),l=void 0,t.draw=function(){return"function"==typeof l&&l(),n.engage(t.polygons).then(function(){var e;return e=!0,l=t.$watchCollection("polygons",function(t,i){return e||t===i?void(e=!1):a.differenceObjects(i,t).forEach(function(t){return t.setMap(null)})})})}):e.error("Free Draw Polygons must be of type Array!"):e.error("No polygons to bind to!")}}())},l}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var t=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,i,o){return function(e){function n(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=i}return t(n,e),n.extend(o),n.prototype.link=function(t,e,i,o){throw new Error("Not implemented!!")},n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{static:"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(e,o){return function(e){function n(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=i.extend(this.scope||{},n.scope)}return t(n,e),n.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},n.scopeKeys=i.keys(n.scope),n.keys=n.scopeKeys,n.extend(o),n}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,o,n,r){return function(o){function s(){}return t(s,o),s.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=",static:"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},s.scopeKeys=i.keys(s.scope),s.include(e),s.extend(r),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope=s.scope,s.prototype.DEFAULTS={},s.prototype.$log=n,s}(o)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,o,n,r){return function(o){function s(){}return t(s,o),s.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=",static:"=",fit:"=",events:"=",zIndex:"=zindex"},s.scopeKeys=i.keys(s.scope),s.include(e),s.extend(r),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope=s.scope,s.prototype.DEFAULTS={},s.prototype.$log=n,s}(o)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){return{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(e,o,n){return function(e){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=i.extend(this.scope||{},r.scope)}return t(r,e),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=i.keys(r.scope),r.include(o),r.extend(n),r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(n,r,s,a,l,u,p,h,c,d,g,f,m,v){var y,_;return y=void 0,_=[g,c,d],function(r){function l(){this.link=t(this.link,this);var e;e=function(t){var e;return t.$on("$destroy",function(){return p.decrement()}),e=u.handle(t),t.ctrlType="Map",t.deferred.promise.then(function(){return _.forEach(function(t){return t.init()})}),e.getMap=function(){return t.map},i.extend(this,e)},this.controller=["$scope",e]}return o(l,r),l.include(a),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(t,o,r){var a;return a=[],t.$on("$destroy",function(){return m.removeEvents(a),"true"===r.recycleMapInstance&&t.map?(v.recycleMapInstance(t.map),t.map=null):void 0}),t.idleAndZoomChanged=!1,f.then(function(l){return function(u){var c,d,g,f,_,b,M,w,k,x,C,G,D,P,L,O,S;if(y={mapTypeId:u.MapTypeId.ROADMAP},P=p.spawn(),G=function(){return P.deferred.resolve({instance:P.instance,map:c})},e.isDefined(t.center)||e.isDefined(t.bounds)){if(e.isDefined(t.center)||(t.center=new google.maps.LatLngBounds(l.getCoords(t.bounds.southwest),l.getCoords(t.bounds.northeast)).getCenter()),e.isDefined(t.zoom)||(t.zoom=10),(_=e.element(o)).addClass("angular-google-map"),x={options:{}},r.options&&(x.options=t.options),r.styles&&(x.styles=t.styles),r.type&&(L=r.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(L)?x.mapTypeId=google.maps.MapTypeId[r.type.toUpperCase()]:s.error("angular-google-maps: invalid map type '"+r.type+"'")),w=e.extend({},y,x,{center:l.getCoords(t.center),zoom:t.zoom,bounds:t.bounds}),c="true"===r.recycleMapInstance?v.createMapInstance(_.find("div")[1],w):new google.maps.Map(_.find("div")[1],w),c.uiGmap_id=h.generate(),f=!1,a.push(google.maps.event.addListenerOnce(c,"idle",function(){return t.deferred.resolve(c),G()})),g=r.events&&null!=(null!=(C=t.events)?C.blacklist:void 0)?t.events.blacklist:[],i.isString(g)&&(g=[g]),k=function(e,o,n){return i.includes(g,e)?void 0:(n&&n(),a.push(google.maps.event.addListener(c,e,function(){var e;return(null!=(e=t.update)?e.lazy:void 0)?void 0:o()})))},i.includes(g,"all")||(k("dragstart",function(){return f=!0,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),k("dragend",function(){return f=!1,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),O=function(o,n){var r,s;if(null==o&&(o=c.center),null==n&&(n=t),!i.includes(g,"center"))if(r=o.lat(),s=o.lng(),e.isDefined(n.center.type)){if(n.center.coordinates[1]!==r&&(n.center.coordinates[1]=r),n.center.coordinates[0]!==s)return n.center.coordinates[0]=s}else if(n.center.latitude!==r&&(n.center.latitude=r),n.center.longitude!==s)return n.center.longitude=s},D=!1,k("idle",function(){var e,o,n;return e=c.getBounds(),o=e.getNorthEast(),n=e.getSouthWest(),D=!0,t.$evalAsync(function(e){return O(),i.isUndefined(e.bounds)||i.includes(g,"bounds")||(e.bounds.northeast={latitude:o.lat(),longitude:o.lng()},e.bounds.southwest={latitude:n.lat(),longitude:n.lng()}),i.includes(g,"zoom")||(e.zoom=c.zoom,t.idleAndZoomChanged=!t.idleAndZoomChanged),D=!1})})),e.isDefined(t.events)&&null!==t.events&&e.isObject(t.events)){M=function(e){return function(){return t.events[e].apply(t,[c,e,arguments])}},d=[];for(b in t.events)t.events.hasOwnProperty(b)&&e.isFunction(t.events[b])&&d.push(google.maps.event.addListener(c,b,M(b)));a.concat(d)}return c.getOptions=function(){return w},t.map=c,null!=r.control&&null!=t.control&&(t.control.refresh=function(t){var e,i,o;return null!=c?(null!=("undefined"!=typeof google&&null!==google&&null!=(i=google.maps)&&null!=(o=i.event)?o.trigger:void 0)&&null!=c&&google.maps.event.trigger(c,"resize"),null!=(null!=t?t.latitude:void 0)&&null!=(null!=t?t.longitude:void 0)?(e=l.getCoords(t),l.isTrue(r.pan)?c.panTo(e):c.setCenter(e)):void 0):void 0},t.control.getGMap=function(){return c},t.control.getMapOptions=function(){return w},t.control.getCustomEventListeners=function(){return d},t.control.removeEvents=function(t){return m.removeEvents(t)}),t.$watch("center",function(e,i){var o;return e===i||D||(o=l.getCoords(t.center)).lat()===c.center.lat()&&o.lng()===c.center.lng()?void 0:f?void 0:(l.validateCoords(e)||s.error("Invalid center for newValue: "+JSON.stringify(e)),l.isTrue(r.pan)&&t.zoom===c.zoom?c.panTo(o):c.setCenter(o))},!0),S=null,t.$watch("zoom",function(e,o){var r,s;return null==e||i.isEqual(e,o)||(null!=c?c.getZoom():void 0)===(null!=t?t.zoom:void 0)||D?void 0:(null!=S&&n.cancel(S),S=n(function(){return c.setZoom(e)},(null!=(r=t.eventOpts)&&null!=(s=r.debounce)?s.zoomMs:void 0)+20,!1))}),t.$watch("bounds",function(t,e){var i,o,n,r,a,l,u;return t!==e?null==(null!=t&&null!=(n=t.northeast)?n.latitude:void 0)||null==(null!=t&&null!=(r=t.northeast)?r.longitude:void 0)||null==(null!=t&&null!=(a=t.southwest)?a.latitude:void 0)||null==(null!=t&&null!=(l=t.southwest)?l.longitude:void 0)?void s.error("Invalid map bounds for new value: "+JSON.stringify(t)):(o=new google.maps.LatLng(t.northeast.latitude,t.northeast.longitude),u=new google.maps.LatLng(t.southwest.latitude,t.southwest.longitude),i=new google.maps.LatLngBounds(u,o),c.fitBounds(i)):void 0}),["options","styles"].forEach(function(e){return t.$watch(e,function(t,o){return i.isEqual(t,o)?void 0:("options"===e?x.options=t:x.options[e]=t,null!=c?c.setOptions(x):void 0)},!0)})}s.error("angular-google-maps: a center or bounds property is required")}}(this))},l}(l)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(e,o,n,r){return function(s){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',r.info(this)}return t(a,s),a.prototype.controller=["$scope","$element",function(t,o){return t.ctrlType="Marker",i.extend(this,e.handle(t,o))}],a.prototype.link=function(t,r,s,a){return e.mapPromise(t,a).then(function(r){var s,a;return s=new n(r),a=i.object(e.keys,e.keys),new o({scope:t,model:t,keys:a,gMap:r,doClick:!0,gManager:s,doDrawSelf:!1,trackModel:!1}).deferred.promise.then(function(e){return t.deferred.resolve(e)}),null!=t.control?t.control.getGMarkers=s.getGMarkers:void 0}),t.$on("$destroy",function(){var t;return void 0!==t&&null!==t&&t.clear(),t=null})},a}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(e,o,n,r,s){return function(r){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',o.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents",deepComparison:"=?deepcomparison"}),s.info(this)}return t(a,r),a.prototype.controller=["$scope","$element",function(t,o){return t.ctrlType="Markers",i.extend(this,e.handle(t,o))}],a.prototype.link=function(t,r,s,a){var l,u;return l=void 0,u=function(){return t.deferred.resolve()},e.mapPromise(t,a).then(function(e){return a.getScope().$watch("idleAndZoomChanged",function(){return i.defer(l.gManager.draw)}),l=new n(t,r,s,e),o.link(t,l),null!=t.control&&(t.control.getGMarkers=function(){var t;return null!=(t=l.gManager)?t.getGMarkers():void 0},t.control.getChildMarkers=function(){return l.plurals}),i.last(l.existingPieces._content).then(function(){return u()})})},a}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var t;return t=function(t,e){return null!=t.control?(t.control.updateModels=function(i){return t.models=i,e.createChildScopes(!1)},t.control.newModels=function(i){return t.models=i,e.rebuildAll(t,!0,!0)},t.control.clean=function(){return e.rebuildAll(t,!1,!0)},t.control.getPlurals=function(){return e.plurals},t.control.getManager=function(){return e.gManager},t.control.hasManager=function(){return null!=e.gManager==1},t.control.managerDraw=function(){var e;return t.control.hasManager()&&null!=(e=t.control.getManager())?e.draw():void 0}):void 0},{extend:function(t,e){return i.extend(t.scope||{},e||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control",deepComparison:"=deepcomparison"})},link:function(e,i){return t(e,i)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(e,o,n){return function(o){function r(){return this.link=t(this.link,this),r.__super__.constructor.apply(this,arguments)}return i(r,o),r.prototype.link=function(t,i,o,r){var s,a;return s=[],a=e.mapPromise(t,r),null!=t.control&&(t.control.getInstance=this,t.control.polygons=s,t.control.promise=a),a.then(function(e){return function(i){return s.push(new n({scope:t,attrs:o,gMap:i,defaults:e.DEFAULTS}))}}(this))},r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(o,n,r,s){return function(o){function n(){this.link=t(this.link,this),n.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return i(n,o),n.prototype.link=function(t,i,o,n){return n.getScope().deferred.promise.then(function(n){return function(a){return(e.isUndefined(t.path)||null===t.path)&&n.$log.warn("polygons: no valid path attribute found"),t.models||n.$log.warn("polygons: no models found to create from"),s.link(t,new r(t,i,o,a,n.DEFAULTS))}}(this))},n}(o)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(o,n,r){return function(n){function s(){return this.link=t(this.link,this),s.__super__.constructor.apply(this,arguments)}return i(s,n),s.prototype.link=function(t,i,n,s){return o.mapPromise(t,s).then(function(i){return function(o){return!e.isUndefined(t.path)&&null!==t.path&&i.validatePath(t.path)||i.$log.warn("polyline: no valid path attribute found"),new r({scope:t,attrs:n,gMap:o,defaults:i.DEFAULTS})}}(this))},s}(o)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(o,n,r,s){return function(o){function n(){this.link=t(this.link,this),n.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return i(n,o),n.prototype.link=function(t,i,o,n){return n.getScope().deferred.promise.then(function(n){return function(a){return(e.isUndefined(t.path)||null===t.path)&&n.$log.warn("polylines: no valid path attribute found"),t.models||n.$log.warn("polylines: no models found to create from"),s.link(t,new r(t,i,o,a,n.DEFAULTS))}}(this))},n}(o)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(t,e,o,n){return i.extend(o,{link:function(t,e,i,o){return o.getScope().deferred.promise.then(function(o){return new n(t,e,i,o)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(o,n,r,s,a){return function(l){function u(){this.link=t(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',a.debug(this),this.childWindows=[]}return i(u,l),u.include(n),u.prototype.link=function(t,i,n,r){var s,a;return s=r.length>1&&null!=r[1]?r[1]:void 0,a=null!=s?s.getScope():void 0,this.mapPromise=o.mapPromise(t,r[0]),this.mapPromise.then(function(o){return function(r){var l;return l=!0,e.isDefined(n.isiconvisibleonclick)&&(l=t.isIconVisibleOnClick),s?a.deferred.promise.then(function(e){return o.init(t,i,l,r,a)}):void o.init(t,i,l,r)}}(this))},u.prototype.init=function(t,e,i,o,n){var a,l,u,p,h;return l=null!=t.options?t.options:{},p=null!=t&&this.validateCoords(t.coords),null!=(null!=n?n.getGMarker:void 0)&&(u=n.getGMarker()),h=p?this.createWindowOptions(u,t,e.html(),l):l,null!=o&&(a=new r({scope:t,opts:h,isIconVisibleOnClick:i,gMap:o,markerScope:n,element:e}),this.childWindows.push(a),t.$on("$destroy",function(t){return function(){return t.childWindows=s.withoutObjects(t.childWindows,[a],function(t,e){return t.scope.$id===e.scope.$id}),t.childWindows.length=0}}(this))),null!=t.control&&(t.control.getGWindows=function(t){return function(){return t.childWindows.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(t){return function(){return t.childWindows}}(this),t.control.getPlurals=t.control.getChildWindows,t.control.showWindow=function(t){return function(){return t.childWindows.map(function(t){return t.showWindow()})}}(this),t.control.hideWindow=function(t){return function(){return t.childWindows.map(function(t){return t.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=a?this.onChildCreation(a):void 0},u}(o)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(e,o,n,r,s){return function(e){function a(){this.link=t(this.link,this),a.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',o.extend(this),s.debug(this)}return i(a,e),a.prototype.link=function(t,e,i,o){var n,s,a;return n=o[0].getScope(),s=o.length>1&&null!=o[1]?o[1]:void 0,a=null!=s?s.getScope():void 0,n.deferred.promise.then(function(n){return function(s){var l;return((null!=a&&null!=(l=a.deferred)?l.promise:void 0)||r.resolve()).then(function(){var r,l;return r=null!=(l=n.parentModel)?l.existingPieces:void 0,r?r.then(function(){return n.init(t,e,i,o,s,a)}):n.init(t,e,i,o,s,a)})}}(this))},a.prototype.init=function(t,e,i,r,s,a){var l;return l=new n(t,e,i,r,s,a),o.link(t,l),null!=t.control?(t.control.getGWindows=function(){return l.plurals.map(function(t){return t.gObject})},t.control.getChildWindows=function(){return l.plurals}):void 0},a}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(t,e){return e}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(t,e,i,o,n){return new n(t,e,i,o)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(t,e,i,o,n,r){return new r(t,e,i,o,n)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(e,i,o){return new(function(){function e(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return e.prototype.link=function(t,e,i,n){return n.getScope().deferred.promise.then(function(n){return function(n){return null!=t.onCreated?new o(t,e,i,n,t.onCreated):new o(t,e,i,n)}}())},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(e,i,o){return new(function(){function e(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return e.prototype.link=function(t,e,i,n){return n.getScope().deferred.promise.then(function(n){return function(n){return new o(t,e,i,n)}}())},e}())}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapMapTypes",["$timeout","uiGmapLogger","uiGmapMapTypesParentModel",function(e,i,o){return new(function(){function e(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layers" ng-transclude></span>',this.scope={mapTypes:"=mapTypes",show:"=show",options:"=options",refresh:"=refresh",id:"=idKey"}}return e.prototype.link=function(t,e,i,n){return n.getScope().deferred.promise.then(function(n){return function(n){return new o(t,e,i,n)}}())},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(i,o,n,r,s,a){return new(function(){function l(){this.link=t(this.link,this),this.$log=o,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(t,o,l,u){return i.then(function(i){return function(p){return null==t.template&&(s.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),t.template="uigmap-searchbox-default.tpl.html"),r.get(t.template,{cache:s}).then(function(r){var s;return s=r.data,e.isUndefined(t.events)?void i.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(r){var u;return u=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",p.ControlPosition[u]?new n(t,o,l,r,u,a(s)(t)):void i.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(t,i){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(o,n){var r,s,a;return r=function(e,i){return t[e](n,"ng-hide").then(function(){return i()})},s=function(e,i){return t[e](n,"ng-hide",i)},a=function(t,o){return e.version.major>1?i.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+e.version.major+'"'):1===e.version.major&&e.version.minor<3?s(t,o):r(t,o)},o.$watch("uiGmapShow",function(t){return t&&a("removeClass",o.uiGmapAfterShow),t?void 0:a("addClass",o.uiGmapAfterHide)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(t,i,o,n){var r;return r="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(s,a,l){return t.then(function(t){return function(t){var l,u,p,h,c,d,g,f,m,v;return f=void 0,v=void 0,p=!1,d=void 0,g=null,m=null,l=function(){return n.removeEvents(d),null!=f&&(f.unbind("position"),f.setVisible(!1)),null!=v?(null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0):void 0},c=function(t,i){var o;return o=google.maps.geometry.spherical.computeHeading(t,i),p=!0,s.radius=s.radius||50,m=e.extend({heading:o,zoom:1,pitch:0},s.povoptions||{}),g=g=e.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:t,pov:m,visible:!0},s.options||{}),p=!1},u=function(){var t;return s.focalcoord?s.radius?(l(),null==v&&(v=new google.maps.StreetViewService),s.events&&(d=n.setEvents(v,s,s)),t=o.getCoords(s.focalcoord),v.getPanoramaByLocation(t,s.radius,function(e,i){var o,n,r;return null!=s.imagestatus&&(s.imagestatus=i),null!=(null!=(r=s.events)?r.image_status_changed:void 0)&&s.events.image_status_changed(v,"image_status_changed",s,i),"OK"===i?(n=e.location.latLng,c(n,t),o=a[0],f=new google.maps.StreetViewPanorama(o,g)):void 0})):void i.error(r+": needs a radius to set the camera view from its focal target."):void i.error(r+": focalCoord needs to be defined")},null!=s.control&&(s.control.getOptions=function(){return g},s.control.getPovOptions=function(){return m},s.control.getGObject=function(){return v},s.control.getGPano=function(){return f}),s.$watch("options",function(t,e){return t===e||t===g||p?void 0:u()}),h=!0,s.$watch("focalcoord",function(t,e){return t===e&&!h||null==t?void 0:(h=!1,u())}),s.$on("$destroy",function(){return l()})}}())}}}])}.call(this),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function t(){}return t.generate=function(){var e=t._gri,i=t._ha;return i(e(32),8)+"-"+i(e(16),4)+"-"+i(16384|e(12),4)+"-"+i(32768|e(14),4)+"-"+i(e(48),12)},t._gri=function(t){return 0>t?NaN:30>=t?0|Math.random()*(1<<t):53>=t?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<t-30)):NaN},t._ha=function(t,e){for(var i=t.toString(16),o=e-i.length,n="0";o>0;o>>>=1,n+=n)1&o&&(i=n+i);return i},t}),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:i.once(function(){+function(){function e(t,i){t.getMarkerClusterer().extend(e,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=i,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function i(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.hideLabel_=t.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new e(this,t.getStyles())}function n(t,e,i){this.extend(n,google.maps.OverlayView),e=e||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,void 0!==i.averageCenter&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.hideLabel_=!1,void 0!==i.hideLabel&&(this.hideLabel_=i.hideLabel),this.imagePath_=i.imagePath||n.IMAGE_PATH,this.imageExtension_=i.imageExtension||n.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||n.IMAGE_SIZES,this.calculator_=i.calculator||n.CALCULATOR,this.batchSize_=i.batchSize||n.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||n.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}function r(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),void 0===t.visible&&(void 0===t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function s(t,e){function i(){}i.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new i,t.prototype.constructor=t}function a(t,e,i){this.marker_=t,this.handCursorURL_=t.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=a.getSharedCross(e)}function l(t){(t=t||{}).labelContent=t.labelContent||"",t.labelAnchor=t.labelAnchor||new google.maps.Point(0,0),t.labelClass=t.labelClass||"markerLabels",t.labelStyle=t.labelStyle||{},t.labelInBackground=t.labelInBackground||!1,void 0===t.labelVisible&&(t.labelVisible=!0),void 0===t.raiseOnDrag&&(t.raiseOnDrag=!0),void 0===t.clickable&&(t.clickable=!0),void 0===t.draggable&&(t.draggable=!1),void 0===t.optimized&&(t.optimized=!1),t.crossImage=t.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",t.handCursor=t.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",t.optimized=!1,this.label=new a(this,t.crossImage,t.handCursor),google.maps.Marker.apply(this,arguments)}function u(t){var e=t||{};this.ready_=!1,this.dragging_=!1,t.visible==o&&(t.visible=!0),t.shadow==o&&(t.shadow="7px -3px 5px rgba(88,88,88,0.7)"),t.anchor==o&&(t.anchor=p.BOTTOM),this.setValues(e)}e.prototype.onAdd=function(){var t,e,i=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),google.maps.event.addDomListener(this.div_,"click",function(o){if(t=!1,!e){var n,r,s=i.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",i.cluster_),google.maps.event.trigger(s,"clusterclick",i.cluster_),s.getZoomOnClick()&&(r=s.getMaxZoom(),n=i.cluster_.getBounds(),s.getMap().fitBounds(n),setTimeout(function(){s.getMap().fitBounds(n),null!==r&&s.getMap().getZoom()>r&&s.getMap().setZoom(r+1)},100)),o.cancelBubble=!0,o.stopPropagation&&o.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=i.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",i.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=i.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",i.cluster_)})},e.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},e.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},e.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),i=parseInt(e[0].trim(),10),o=parseInt(e[1].trim(),10),n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n),t="<img src='"+this.url_+"' style='position: absolute; top: "+o+"px; left: "+i+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*o+"px, "+(-1*i+this.width_)+"px, "+(-1*o+this.height_)+"px, "+-1*i+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title=void 0===this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},e.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var i=this.styles_[e];this.url_=i.url,this.height_=i.height,this.width_=i.width,this.anchorText_=i.anchorText||[0,0],this.anchorIcon_=i.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=i.textColor||"black",this.textSize_=i.textSize||11,this.textDecoration_=i.textDecoration||"none",this.fontWeight_=i.fontWeight||"bold",this.fontStyle_=i.fontStyle||"normal",this.fontFamily_=i.fontFamily||"Arial,sans-serif",this.backgroundPosition_=i.backgroundPosition||"0 0"},e.prototype.setCenter=function(t){this.center_=t},e.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.join("")},e.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},i.prototype.getSize=function(){return this.markers_.length},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getCenter=function(){return this.center_},i.prototype.getMap=function(){return this.map_},i.prototype.getMarkerClusterer=function(){return this.markerClusterer_},i.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers();for(t=0;t<i.length;t++)e.extend(i[t].getPosition());return e},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},i.prototype.addMarker=function(t){var e,i,o;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var n=this.markers_.length+1,r=(this.center_.lat()*(n-1)+t.getPosition().lat())/n,s=(this.center_.lng()*(n-1)+t.getPosition().lng())/n;this.center_=new google.maps.LatLng(r,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),i=this.markers_.length,null!==(o=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>o)t.getMap()!==this.map_&&t.setMap(this.map_);else if(i<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(i===this.minClusterSize_)for(e=0;i>e;e++)this.markers_[e].setMap(null);else t.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},i.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},i.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)this.clusterIcon_.hide();else if(t<this.minClusterSize_)this.clusterIcon_.hide();else{var i=this.markerClusterer_.getStyles().length,o=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(o),this.clusterIcon_.show()}},i.prototype.isMarkerAlreadyAdded_=function(t){for(var e=0,i=this.markers_.length;i>e;e++)if(t===this.markers_[e])return!0;return!1},n.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){t.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},n.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},n.prototype.draw=function(){},n.prototype.setupStyles_=function(){var t,e;if(!(this.styles_.length>0))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},n.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),i=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)i.extend(e[t].getPosition());this.getMap().fitBounds(i)},n.prototype.getGridSize=function(){return this.gridSize_},n.prototype.setGridSize=function(t){this.gridSize_=t},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},n.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},n.prototype.getMaxZoom=function(){return this.maxZoom_},n.prototype.setMaxZoom=function(t){this.maxZoom_=t},n.prototype.getStyles=function(){return this.styles_},n.prototype.setStyles=function(t){this.styles_=t},n.prototype.getTitle=function(){return this.title_},n.prototype.setTitle=function(t){this.title_=t},n.prototype.getZoomOnClick=function(){return this.zoomOnClick_},n.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},n.prototype.getAverageCenter=function(){return this.averageCenter_},n.prototype.setAverageCenter=function(t){this.averageCenter_=t},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},n.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},n.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},n.prototype.getImageExtension=function(){return this.imageExtension_},n.prototype.setImageExtension=function(t){this.imageExtension_=t},n.prototype.getImagePath=function(){return this.imagePath_},n.prototype.setImagePath=function(t){this.imagePath_=t},n.prototype.getImageSizes=function(){return this.imageSizes_},n.prototype.setImageSizes=function(t){this.imageSizes_=t},n.prototype.getCalculator=function(){return this.calculator_},n.prototype.setCalculator=function(t){this.calculator_=t},n.prototype.setHideLabel=function(t){this.hideLabel_=t},n.prototype.getHideLabel=function(){return this.hideLabel_},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},n.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},n.prototype.getClusterClass=function(){return this.clusterClass_},n.prototype.setClusterClass=function(t){this.clusterClass_=t},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getTotalMarkers=function(){return this.markers_.length},n.prototype.getClusters=function(){return this.clusters_},n.prototype.getTotalClusters=function(){return this.clusters_.length},n.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},n.prototype.addMarkers=function(t,e){var i;for(i in t)t.hasOwnProperty(i)&&this.pushMarkerTo_(t[i]);e||this.redraw_()},n.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},n.prototype.removeMarker=function(t,e,i){var o=!i,n=this.removeMarker_(t,o);return!e&&n&&this.repaint(),n},n.prototype.removeMarkers=function(t,e,i){var o,n,r=!1,s=!i;for(o=0;o<t.length;o++)n=this.removeMarker_(t[o],s),r=r||n;return!e&&r&&this.repaint(),r},n.prototype.removeMarker_=function(t,e){var i,o=-1;if(this.markers_.indexOf)o=this.markers_.indexOf(t);else for(i=0;i<this.markers_.length;i++)if(t===this.markers_[i]){o=i;break}return-1!==o&&(e&&t.setMap(null),this.markers_.splice(o,1),!0)},n.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},n.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var e;for(e=0;e<t.length;e++)t[e].remove()},0)},n.prototype.getExtendedBounds=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),o=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),n=e.fromLatLngToDivPixel(i);n.x+=this.gridSize_,n.y-=this.gridSize_;var r=e.fromLatLngToDivPixel(o);r.x-=this.gridSize_,r.y+=this.gridSize_;var s=e.fromDivPixelToLatLng(n),a=e.fromDivPixelToLatLng(r);return t.extend(s),t.extend(a),t},n.prototype.redraw_=function(){this.createClusters_(0)},n.prototype.resetViewport_=function(t){var e,i;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)i=this.markers_[e],i.isAdded=!1,t&&i.setMap(null)},n.prototype.distanceBetweenPoints_=function(t,e){var i=(e.lat()-t.lat())*Math.PI/180,o=(e.lng()-t.lng())*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371},n.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},n.prototype.addToClosestCluster_=function(t){var e,o,n,r,s=4e4,a=null;for(e=0;e<this.clusters_.length;e++)n=this.clusters_[e],(r=n.getCenter())&&(o=this.distanceBetweenPoints_(r,t.getPosition()),s>o&&(s=o,a=n));a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):((n=new i(this)).addMarker(t),this.clusters_.push(n))},n.prototype.createClusters_=function(t){var e,i,o,n=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),o=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var r=this.getExtendedBounds(o),s=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;s>e;e++)!(i=this.markers_[e]).isAdded&&this.isMarkerInBounds_(i,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){n.createClusters_(s)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_()}},n.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},n.CALCULATOR=function(t,e){for(var i=0,o=t.length.toString(),n=o;0!==n;)n=parseInt(n/10,10),i++;return i=Math.min(i,e),{text:o,index:i,title:""}},n.BATCH_SIZE=2e3,n.BATCH_SIZE_IE=500,n.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",n.IMAGE_EXTENSION="png",n.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),r.prototype=new google.maps.OverlayView,r.prototype.createInfoBoxDiv_=function(){var t,e,i,o=this,n=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},r=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),o.enableEventPropagation_||n(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),void 0===this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],n));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",r),google.maps.event.trigger(this,"domready")}},r.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},r.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},r.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},r.prototype.panBox_=function(t){var e,i=0,o=0;if(!t&&(e=this.getMap())instanceof google.maps.Map){e.getBounds().contains(this.position_)||e.setCenter(this.position_),e.getBounds();var n=e.getDiv(),r=n.offsetWidth,s=n.offsetHeight,a=this.pixelOffset_.width,l=this.pixelOffset_.height,u=this.div_.offsetWidth,p=this.div_.offsetHeight,h=this.infoBoxClearance_.width,c=this.infoBoxClearance_.height,d=this.getProjection().fromLatLngToContainerPixel(this.position_);d.x<-a+h?i=d.x+a-h:d.x+u+a+h>r&&(i=d.x+u+a+h-r),this.alignBottom_?d.y<-l+c+p?o=d.y+l-c-p:d.y+l+c>s&&(o=d.y+l+c-s):d.y<-l+c?o=d.y+l-c:d.y+p+l+c>s&&(o=d.y+p+l+c-s),(0!==i||0!==o)&&(e.getCenter(),e.panBy(i,o))}},r.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)",void 0!==this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},r.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""))&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},r.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},r.prototype.setOptions=function(t){void 0!==t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),void 0!==t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),void 0!==t.content&&this.setContent(t.content),void 0!==t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),void 0!==t.maxWidth&&(this.maxWidth_=t.maxWidth),void 0!==t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),void 0!==t.alignBottom&&(this.alignBottom_=t.alignBottom),void 0!==t.position&&this.setPosition(t.position),void 0!==t.zIndex&&this.setZIndex(t.zIndex),void 0!==t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),void 0!==t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),void 0!==t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),void 0!==t.isHidden&&(this.isHidden_=t.isHidden),void 0!==t.visible&&(this.isHidden_=!t.visible),void 0!==t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},r.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},r.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},r.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},r.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},r.prototype.getContent=function(){return this.content_},r.prototype.getPosition=function(){return this.position_},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.getVisible=function(){return void 0!==this.getMap()&&null!==this.getMap()&&!this.isHidden_},r.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},r.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},r.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},r.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function e(t,e){var i=this,o=new google.maps.OverlayView;o.onAdd=function(){i.init_(t,e)},o.draw=function(){},o.onRemove=function(){},o.setMap(t),this.prjov_=o}var i=function(t){var e;switch(t){case"thin":e="2px";break;case"medium":e="4px";break;case"thick":e="6px";break;default:e=t}return e},o=function(t){var e,o={};if(document.defaultView&&document.defaultView.getComputedStyle){if(e=t.ownerDocument.defaultView.getComputedStyle(t,""))return o.top=parseInt(e.borderTopWidth,10)||0,o.bottom=parseInt(e.borderBottomWidth,10)||0,o.left=parseInt(e.borderLeftWidth,10)||0,o.right=parseInt(e.borderRightWidth,10)||0,o}else if(document.documentElement.currentStyle&&t.currentStyle)return o.top=parseInt(i(t.currentStyle.borderTopWidth),10)||0,o.bottom=parseInt(i(t.currentStyle.borderBottomWidth),10)||0,o.left=parseInt(i(t.currentStyle.borderLeftWidth),10)||0,o.right=parseInt(i(t.currentStyle.borderRightWidth),10)||0,o;return o.top=parseInt(t.style["border-top-width"],10)||0,o.bottom=parseInt(t.style["border-bottom-width"],10)||0,o.left=parseInt(t.style["border-left-width"],10)||0,o.right=parseInt(t.style["border-right-width"],10)||0,o},n={x:0,y:0},r=function(t){n.x=void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,n.y=void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};r();var s=function(e){var i=0,o=0;return e=e||t.event,void 0!==e.pageX?(i=e.pageX,o=e.pageY):void 0!==e.clientX&&(i=e.clientX+n.x,o=e.clientY+n.y),{left:i,top:o}},a=function(e){for(var i=e.offsetLeft,o=e.offsetTop,n=e.offsetParent;null!==n;){n!==document.body&&n!==document.documentElement&&(i-=n.scrollLeft,o-=n.scrollTop);var r=n,s=r.offsetLeft,a=r.offsetTop;if(!s&&!a&&t.getComputedStyle){var l=document.defaultView.getComputedStyle(r,null).MozTransform||document.defaultView.getComputedStyle(r,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");s+=parseInt(u[4],10)||0,a+=parseInt(u[5],10)||0}}i+=s,o+=a,n=n.offsetParent}return{left:i,top:o}},l=function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},u=function(t,e){void 0!==e&&(t.style.opacity=e),void 0!==t.style.opacity&&""!==t.style.opacity&&(t.style.filter="alpha(opacity="+100*t.style.opacity+")")};e.prototype.init_=function(e,i){var n,s=this;for(this.map_=e,i=i||{},this.key_=i.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=o(this.map_.getDiv()),this.veilDiv_=[],n=0;4>n;n++)this.veilDiv_[n]=document.createElement("div"),this.veilDiv_[n].onselectstart=function(){return!1},l(this.veilDiv_[n].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[n].style,i.paneStyle),l(this.veilDiv_[n].style,i.veilStyle),l(this.veilDiv_[n].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[n].style.MozUserSelect="none"),u(this.veilDiv_[n]),"transparent"===this.veilDiv_[n].style.backgroundColor&&(this.veilDiv_[n].style.backgroundColor="white",u(this.veilDiv_[n],0)),this.map_.getDiv().appendChild(this.veilDiv_[n]);this.noZoom_=i.noZoom||!1,this.visualEnabled_=i.visualEnabled||!1,this.visualClass_=i.visualClass||"",this.visualPosition_=i.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=i.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=i.visualPositionIndex||null,this.visualSprite_=i.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=i.visualSize||new google.maps.Size(20,20),this.visualTips_=i.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,i.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=o(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(t){s.onKeyDown_(t)}),google.maps.event.addDomListener(document,"keyup",function(t){s.onKeyUp_(t)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(document,"mousedown",function(t){s.onMouseDownDocument_(t)}),google.maps.event.addDomListener(document,"mousemove",function(t){s.onMouseMove_(t)}),google.maps.event.addDomListener(document,"mouseup",function(t){s.onMouseUp_(t)}),google.maps.event.addDomListener(t,"scroll",r)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},e.prototype.initControl_=function(t){var e,i,o=this;return e=document.createElement("div"),e.className=this.visualClass_,e.style.position="relative",e.style.overflow="hidden",e.style.height=this.visualSize_.height+"px",e.style.width=this.visualSize_.width+"px",e.title=this.visualTips_.off,i=document.createElement("img"),i.src=this.visualSprite_,i.style.position="absolute",i.style.left=-2*this.visualSize_.width+"px",i.style.top="0px",e.appendChild(i),e.onclick=function(t){o.hotKeyDown_=!o.hotKeyDown_,o.hotKeyDown_?(o.buttonDiv_.firstChild.style.left=-0*o.visualSize_.width+"px",o.buttonDiv_.title=o.visualTips_.on,o.activatedByControl_=!0,google.maps.event.trigger(o,"activate")):(o.buttonDiv_.firstChild.style.left=-2*o.visualSize_.width+"px",o.buttonDiv_.title=o.visualTips_.off,google.maps.event.trigger(o,"deactivate")),o.onMouseMove_(t)},e.onmouseover=function(){o.buttonDiv_.firstChild.style.left=-1*o.visualSize_.width+"px"},e.onmouseout=function(){o.hotKeyDown_?(o.buttonDiv_.firstChild.style.left=-0*o.visualSize_.width+"px",o.buttonDiv_.title=o.visualTips_.on):(o.buttonDiv_.firstChild.style.left=-2*o.visualSize_.width+"px",o.buttonDiv_.title=o.visualTips_.off)},e.ondragstart=function(){return!1},l(e.style,{cursor:"pointer",marginTop:t.height+"px",marginLeft:t.width+"px"}),e},e.prototype.isHotKeyDown_=function(e){var i;if(e=e||t.event,!(i=e.shiftKey&&"shift"===this.key_||e.altKey&&"alt"===this.key_||e.ctrlKey&&"ctrl"===this.key_))switch(e.keyCode){case 16:"shift"===this.key_&&(i=!0);break;case 17:"ctrl"===this.key_&&(i=!0);break;case 18:"alt"===this.key_&&(i=!0)}return i},e.prototype.isMouseOnMap_=function(){var t=this.mousePosn_;if(t){var e=this.mapPosn_,i=this.map_.getDiv();return t.left>e.left&&t.left<e.left+i.offsetWidth&&t.top>e.top&&t.top<e.top+i.offsetHeight}return!1},e.prototype.setVeilVisibility_=function(){var t;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var e=this.map_.getDiv();if(this.mapWidth_=e.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=e.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var i=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,o=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,n=this.visualSize_.width,r=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=i+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=i+n+"px",this.veilDiv_[1].style.width=this.mapWidth_-(i+n)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=i+"px",this.veilDiv_[2].style.width=n+"px",this.veilDiv_[2].style.height=o+"px",this.veilDiv_[3].style.top=o+r+"px",this.veilDiv_[3].style.left=i+"px",this.veilDiv_[3].style.width=n+"px",this.veilDiv_[3].style.height=this.mapHeight_-(o+r)+"px",t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",t=1;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.width="0px",this.veilDiv_[t].style.height="0px";for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}}else for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none"},e.prototype.onKeyDown_=function(t){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(t)&&(this.mapPosn_=a(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},e.prototype.getMousePoint_=function(t){var e=s(t),i=new google.maps.Point;return i.x=e.left-this.mapPosn_.left-this.borderWidths_.left,i.y=e.top-this.mapPosn_.top-this.borderWidths_.top,i.x=Math.min(i.x,this.mapWidth_),i.y=Math.min(i.y,this.mapHeight_),i.x=Math.max(i.x,0),i.y=Math.max(i.y,0),i},e.prototype.onMouseDown_=function(t){if(this.map_&&this.hotKeyDown_){this.mapPosn_=a(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(t),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var e=this.prjov_.getProjection().fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",e)}},e.prototype.onMouseDownDocument_=function(t){this.mouseDown_=!0},e.prototype.onMouseMove_=function(t){if(this.mousePosn_=s(t),this.dragging_){this.endPt_=this.getMousePoint_(t);var e=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),n=Math.abs(this.startPt_.y-this.endPt_.y),r=Math.max(0,o-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,n-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=e+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=e+o+"px",this.veilDiv_[1].style.width=this.mapWidth_-(e+o)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=e+"px",this.veilDiv_[2].style.width=o+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+n+"px",this.veilDiv_[3].style.left=e+"px",this.veilDiv_[3].style.width=o+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+n)+"px",this.boxDiv_.style.top=i+"px",this.boxDiv_.style.left=e+"px",this.boxDiv_.style.width=r+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(e,i+n),new google.maps.Point(e+o,i),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=a(this.map_.getDiv()),this.setVeilVisibility_())},e.prototype.onMouseUp_=function(t){var e,i=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(t).x===this.startPt_.x&&this.getMousePoint_(t).y===this.startPt_.y)return void this.onKeyUp_(t);var o=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),s=Math.abs(this.startPt_.y-this.endPt_.y);o+=this.borderWidths_.left,n+=this.borderWidths_.top;var a=this.prjov_.getProjection(),l=a.fromContainerPixelToLatLng(new google.maps.Point(o,n+s)),u=a.fromContainerPixelToLatLng(new google.maps.Point(o+r,n)),p=new google.maps.LatLngBounds(l,u);if(this.noZoom_)this.boxDiv_.style.display="none";else{e=this.map_.getZoom(),this.map_.fitBounds(p),this.map_.getZoom()<e&&this.map_.setZoom(e);var h=a.fromLatLngToContainerPixel(l),c=a.fromLatLngToContainerPixel(u);h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top,c.x-=this.borderWidths_.left,c.y-=this.borderWidths_.top,this.boxDiv_.style.left=h.x+"px",this.boxDiv_.style.top=c.y+"px",this.boxDiv_.style.width=Math.abs(c.x-h.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(c.y-h.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){i.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(t),google.maps.event.trigger(this,"dragend",p),this.isHotKeyDown_(t)||this.onKeyUp_(t)}},e.prototype.onKeyUp_=function(t){var e,i,o,n,r,s,a,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,i=Math.min(this.startPt_.x,this.endPt_.x),o=Math.min(this.startPt_.y,this.endPt_.y),n=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),s=this.prjov_.getProjection(),a=s.fromContainerPixelToLatLng(new google.maps.Point(i,o+r)),l=s.fromContainerPixelToLatLng(new google.maps.Point(i+n,o)),u=new google.maps.LatLngBounds(a,l)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-2*this.visualSize_.width+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(t){this.dragZoom_=new e(this,t)},google.maps.Map.prototype.disableKeyDragZoom=function(){var t,e=this.dragZoom_;if(e){for(t=0;t<e.listeners_.length;++t)google.maps.event.removeListener(e.listeners_[t]);for(this.getDiv().removeChild(e.boxDiv_),t=0;t<e.veilDiv_.length;t++)this.getDiv().removeChild(e.veilDiv_[t]);e.visualEnabled_&&this.controls[e.visualPosition_].removeAt(e.controlIndex_),e.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),s(a,google.maps.OverlayView),a.getSharedCross=function(t){var e;return void 0===a.getSharedCross.crossDiv&&(e=document.createElement("img"),e.style.cssText="position: absolute; z-index: 1000002; display: none;",e.style.marginLeft="-8px",e.style.marginTop="-9px",e.src=t,a.getSharedCross.crossDiv=e),a.getSharedCross.crossDiv},a.prototype.onAdd=function(){var t,e,i,o,n,r,s,l=this,u=!1,p=!1,h="url("+this.handCursorURL_+")",c=function(t){t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},d=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===a.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),a.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",t))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(t){!l.marker_.getDraggable()&&!l.marker_.getClickable()||p||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",t))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(t){p=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=h),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",t),c(t))}),google.maps.event.addDomListener(document,"mouseup",function(e){var i;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",e)),p){if(n){(i=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition())).y+=20,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(i));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(d,1406)}catch(t){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(t),o=!0,p=!1,e.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",e)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(o){var a;u&&(p?(o.latLng=new google.maps.LatLng(o.latLng.lat()-e,o.latLng.lng()-i),a=l.getProjection().fromLatLngToDivPixel(o.latLng),n&&(l.crossDiv_.style.left=a.x+"px",l.crossDiv_.style.top=a.y+"px",l.crossDiv_.style.display="",a.y-=20),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(a)),n&&(l.eventDiv_.style.top=a.y+20+"px"),google.maps.event.trigger(l.marker_,"drag",o)):(e=o.latLng.lat()-l.marker_.getPosition().lat(),i=o.latLng.lng()-l.marker_.getPosition().lng(),t=l.marker_.getZIndex(),r=l.marker_.getPosition(),s=l.marker_.getMap().getCenter(),n=l.marker_.get("raiseOnDrag"),p=!0,l.marker_.setZIndex(1e6),o.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",o)))}),google.maps.event.addDomListener(document,"keydown",function(t){p&&27===t.keyCode&&(n=!1,l.marker_.setPosition(r),l.marker_.getMap().setCenter(s),google.maps.event.trigger(document,"mouseup",t))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(o?o=!1:(google.maps.event.trigger(l.marker_,"click",t),c(t)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",t),c(t))}),google.maps.event.addListener(this.marker_,"dragstart",function(t){p||(n=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(t){p||n&&(l.setPosition(20),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(t){p||n&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},a.prototype.onRemove=function(){var t;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t])},a.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},a.prototype.setContent=function(){var t=this.marker_.get("labelContent");void 0===t.nodeType?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(t))},a.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},a.prototype.setStyles=function(){var t,e;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",e=this.marker_.get("labelStyle");for(t in e)e.hasOwnProperty(t)&&(this.labelDiv_.style[t]=e[t],this.eventDiv_.style[t]=e[t]);this.setMandatoryStyles()},a.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},a.prototype.setAnchor=function(){var t=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-t.x+"px",this.labelDiv_.style.marginTop=-t.y+"px",this.eventDiv_.style.marginLeft=-t.x+"px",this.eventDiv_.style.marginTop=-t.y+"px"},a.prototype.setPosition=function(t){var e=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===t&&(t=0),this.labelDiv_.style.left=Math.round(e.x)+"px",this.labelDiv_.style.top=Math.round(e.y-t)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},a.prototype.setZIndex=function(){var t=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},a.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},s(l,google.maps.Marker),l.prototype.setMap=function(t){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},u.prototype=new google.maps.OverlayView,t.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(t){this.set("visible",t)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(t){this.set("flat",!!t)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(t){this.set("shadow",t),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(t){this.set("zIndex",t)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(t){this.set("draggable",!!t)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(t){this.set("position",t)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(t){this.set("anchor",t)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(t){var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var i=document.createDocumentFragment();e.firstChild;)i.appendChild(e.firstChild);return i},u.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},u.prototype.setContent=function(t){this.set("content",t)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var t=this.getContent();if(t){"string"==typeof t&&(t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),t=this.htmlToDocumentFragment_(t)),this.markerContent_.appendChild(t);for(var e,i=this,o=this.markerContent_.getElementsByTagName("IMG"),n=0;e=o[n];n++)google.maps.event.addDomListener(e,"mousedown",function(t){i.getDraggable()&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1)}),google.maps.event.addDomListener(e,"load",function(){i.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(t){if(this.ready_){var e="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==t&&(e="-moz-grabbing"),"dragready"==t&&(e="-moz-grab"),"draggable"==t&&(e="pointer")):("dragging"!=t&&"dragready"!=t||(e="move"),"draggable"==t&&(e="pointer")),this.markerWrapper_.style.cursor!=e&&(this.markerWrapper_.style.cursor=e)}},u.prototype.startDrag=function(t){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var e=this.getMap();this.mapDraggable_=e.get("draggable"),e.set("draggable",!1),this.mouseX_=t.clientX,this.mouseY_=t.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(t){if(this.getDraggable()&&this.dragging_){var e=this.mouseX_-t.clientX,i=this.mouseY_-t.clientY;this.mouseX_=t.clientX,this.mouseY_=t.clientY;var o=parseInt(this.markerWrapper_.style.left,10)-e,n=parseInt(this.markerWrapper_.style.top,10)-i;this.markerWrapper_.style.left=o+"px",this.markerWrapper_.style.top=n+"px";var r=this.getOffset_(),s=new google.maps.Point(o-r.width,n-r.height),a=this.getProjection();this.setPosition(a.fromDivPixelToLatLng(s)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")}else this.stopDrag()},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(t){if(t){var e=this;this.draggableListener_=google.maps.event.addDomListener(t,"mousedown",function(t){e.startDrag(t)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var e=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){e.stopDrag(),e.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(t,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(t,"mouseup",function(){e.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var t,e=0;t=this.draggingListeners_[e];e++)google.maps.event.removeListener(t);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var t=this.getAnchor();if("object"==typeof t)return t;var e=new google.maps.Size(0,0);if(!this.markerContent_)return e;var i=this.markerContent_.offsetWidth,o=this.markerContent_.offsetHeight;switch(t){case p.TOP_LEFT:break;case p.TOP:e.width=-i/2;break;case p.TOP_RIGHT:e.width=-i;break;case p.LEFT:e.height=-o/2;break;case p.MIDDLE:e.width=-i/2,e.height=-o/2;break;case p.RIGHT:e.width=-i,e.height=-o/2;break;case p.BOTTOM_LEFT:e.height=-o;break;case p.BOTTOM:e.width=-i/2,e.height=-o;break;case p.BOTTOM_RIGHT:e.width=-i,e.height=-o}return e},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var t=this;google.maps.event.addDomListener(this.markerContent_,"click",function(e){google.maps.event.trigger(t,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(e){google.maps.event.trigger(t,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(e){google.maps.event.trigger(t,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var t=this.getProjection();if(t){var e=this.get("position"),i=t.fromLatLngToDivPixel(e),o=this.getOffset_();this.markerWrapper_.style.top=i.y+o.height+"px",this.markerWrapper_.style.left=i.x+o.width+"px";var n=this.markerContent_.offsetHeight,r=this.markerContent_.offsetWidth;r!=this.get("width")&&this.set("width",r),n!=this.get("height")&&this.set("height",n)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var p={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};t.RichMarkerPosition=p,t.InfoBox=r,t.Cluster=i,t.ClusterIcon=e,t.MarkerClusterer=n,t.MarkerLabel_=a,t.MarkerWithLabel=l,t.RichMarker=u}()})}}),function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,i,o){e.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:o(1).Graph,Queue:o(1).Queue}})},function(t,e,i){(function(){t.exports={Graph:i(2),Heap:i(3),LinkedList:i(4),Map:i(5),Queue:i(6),RedBlackTree:i(7),Trie:i(8)}}).call(this)},function(t,e){(function(){var e,i={}.hasOwnProperty;e=function(){function t(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return t.prototype.addNode=function(t){return this._nodes[t]?void 0:(this.nodeSize++,this._nodes[t]={_outEdges:{},_inEdges:{}})},t.prototype.getNode=function(t){return this._nodes[t]},t.prototype.removeNode=function(t){var e,o,n,r,s;if(o=this._nodes[t]){r=o._outEdges;for(n in r)i.call(r,n)&&this.removeEdge(t,n);s=o._inEdges;for(e in s)i.call(s,e)&&this.removeEdge(e,t);return this.nodeSize--,delete this._nodes[t],o}},t.prototype.addEdge=function(t,e,i){var o,n,r;return null==i&&(i=1),!this.getEdge(t,e)&&(n=this._nodes[t],r=this._nodes[e],n&&r)?(o={weight:i},n._outEdges[e]=o,r._inEdges[t]=o,this.edgeSize++,o):void 0},t.prototype.getEdge=function(t,e){var i,o;return i=this._nodes[t],o=this._nodes[e],i&&o?i._outEdges[e]:void 0},t.prototype.removeEdge=function(t,e){var i,o,n;return o=this._nodes[t],n=this._nodes[e],(i=this.getEdge(t,e))?(delete o._outEdges[e],delete n._inEdges[t],this.edgeSize--,i):void 0},t.prototype.getInEdgesOf=function(t){var e,o,n,r;o=[],r=null!=(n=this._nodes[t])?n._inEdges:void 0;for(e in r)i.call(r,e)&&o.push(this.getEdge(e,t));return o},t.prototype.getOutEdgesOf=function(t){var e,o,n,r;o=[],r=null!=(e=this._nodes[t])?e._outEdges:void 0;for(n in r)i.call(r,n)&&o.push(this.getEdge(t,n));return o},t.prototype.getAllEdgesOf=function(t){var e,i,o,n,r,s,a;if(i=this.getInEdgesOf(t),o=this.getOutEdgesOf(t),0===i.length)return o;for(n=this.getEdge(t,t),e=r=0,s=i.length;s>=0?s>r:r>s;e=s>=0?++r:--r)if(i[e]===n){a=[i[i.length-1],i[e]],i[e]=a[0],i[i.length-1]=a[1],i.pop();break}return i.concat(o)},t.prototype.forEachNode=function(t){var e,o,n;n=this._nodes;for(e in n)i.call(n,e)&&(o=n[e],t(o,e))},t.prototype.forEachEdge=function(t){var e,o,n,r,s;r=this._nodes;for(o in r)if(i.call(r,o)){s=r[o]._outEdges;for(n in s)i.call(s,n)&&(e=s[n],t(e))}},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,i,o,n;e=function(){function t(t){var e,i,o,n,r,s;for(null==t&&(t=[]),this._data=[void 0],o=0,r=t.length;r>o;o++)null!=(i=t[o])&&this._data.push(i);if(this._data.length>1)for(e=n=2,s=this._data.length;s>=2?s>n:n>s;e=s>=2?++n:--n)this._upHeap(e);this.size=this._data.length-1}return t.prototype.add=function(t){return null!=t?(this._data.push(t),this._upHeap(this._data.length-1),this.size++,t):void 0},t.prototype.removeMin=function(){var t;return 1!==this._data.length?(this.size--,2===this._data.length?this._data.pop():(t=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),t)):void 0},t.prototype.peekMin=function(){return this._data[1]},t.prototype._upHeap=function(t){var e;for(this._data[t];this._data[t]<this._data[o(t)]&&t>1;)e=[this._data[o(t)],this._data[t]],this._data[t]=e[0],this._data[o(t)]=e[1],t=o(t)},t.prototype._downHeap=function(){var t,e,o;for(t=1;i(t<this._data.length)&&((e=i(t))<this._data.length-1&&this._data[n(t)]<this._data[e]&&(e=n(t)),this._data[e]<this._data[t]);)o=[this._data[t],this._data[e]],this._data[e]=o[0],this._data[t]=o[1],t=e},t}(),o=function(t){return t>>1},i=function(t){return t<<1},n=function(t){return 1+(t<<1)},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){var e,i,o;for(null==t&&(t=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,i=0,o=t.length;o>i;i++)e=t[i],this.add(e)}return t.prototype.at=function(t){var e,i,o,n;if(-this.size<=t&&t<this.size){if(2*(t=this._adjust(t))<this.size)for(e=this.head,i=1;t>=i;i+=1)e=e.next;else for(e=this.tail,o=1,n=this.size-t-1;n>=o;o+=1)e=e.prev;return e}},t.prototype.add=function(t,e){var i,o,n,r,s;return null==e&&(e=this.size),-this.size<=e&&e<=this.size?(o={value:t},e=this._adjust(e),0===this.size?this.head=o:0===e?(n=[o,this.head,o],this.head.prev=n[0],o.next=n[1],this.head=n[2]):(i=this.at(e-1),r=[i.next,o,o,i],o.next=r[0],null!=(s=i.next)&&(s.prev=r[1]),i.next=r[2],o.prev=r[3]),e===this.size&&(this.tail=o),this.size++,t):void 0},t.prototype.removeAt=function(t){var e,i,o;return null==t&&(t=this.size-1),-this.size<=t&&t<this.size&&0!==this.size?(t=this._adjust(t),1===this.size?(i=this.head.value,this.head.value=this.tail.value=void 0):0===t?(i=this.head.value,this.head=this.head.next,this.head.prev=void 0):(e=this.at(t),i=e.value,e.prev.next=e.next,null!=(o=e.next)&&(o.prev=e.prev),t===this.size-1&&(this.tail=e.prev)),this.size--,i):void 0},t.prototype.remove=function(t){var e;if(null!=t){for(e=this.head;e&&e.value!==t;)e=e.next;if(e)return 1===this.size?this.head.value=this.tail.value=void 0:e===this.head?(this.head=this.head.next,this.head.prev=void 0):e===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(e.prev.next=e.next,e.next.prev=e.prev),this.size--,t}},t.prototype.indexOf=function(t,e){var i,o;if(null==e&&(e=0),null==this.head.value&&!this.head.next||e>=this.size)return-1;for(e=Math.max(0,this._adjust(e)),i=this.at(e),o=e;i&&i.value!==t;)i=i.next,o++;return o===this.size?-1:o},t.prototype._adjust=function(t){return 0>t?this.size+t:t},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,i,o,n,r={}.hasOwnProperty;i="_mapId_",e=function(){function t(e){var i,o;this._content={},this._itemId=0,this._id=t._newMapId(),this.size=0;for(i in e)r.call(e,i)&&(o=e[i],this.set(i,o))}return t._mapIdTracker=0,t._newMapId=function(){return this._mapIdTracker++},t.prototype.hash=function(t,e){var r,s;return null==e&&(e=!1),s=o(t),n(t)?(r=i+this._id,e&&!t[r]&&(t[r]=this._itemId++),r+"_"+t[r]):s+"_"+t},t.prototype.set=function(t,e){return this.has(t)||this.size++,this._content[this.hash(t,!0)]=[e,t],e},t.prototype.get=function(t){var e;return null!=(e=this._content[this.hash(t)])?e[0]:void 0},t.prototype.has=function(t){return this.hash(t)in this._content},t.prototype.delete=function(t){var e;return(e=this.hash(t))in this._content&&(delete this._content[e],n(t)&&delete t[i+this._id],this.size--,!0)},t.prototype.forEach=function(t){var e,i,o;o=this._content;for(e in o)r.call(o,e)&&(i=o[e],t(i[1],i[0]))},t}(),n=function(t){var e,i,n,r,s;for(e=["Boolean","Number","String","Undefined","Null","RegExp","Function"],n=o(t),r=0,s=e.length;s>r;r++)if(i=e[r],n===i)return!1;return!0},o=function(t){return Object.prototype.toString.apply(t).match(/\[object (.+)\]/)[1]},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){null==t&&(t=[]),this._content=t,this._dequeueIndex=0,this.size=this._content.length}return t.prototype.enqueue=function(t){return this.size++,this._content.push(t),t},t.prototype.dequeue=function(){var t;return 0!==this.size?(this.size--,t=this._content[this._dequeueIndex],2*++this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),t):void 0},t.prototype.peek=function(){return this._content[this._dequeueIndex]},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,i,o,n,r,s,a,l,u;e=function(){function t(t){var e,i,o;for(null==t&&(t=[]),this._root,this.size=0,i=0,o=t.length;o>i;i++)null!=(e=t[i])&&this.add(e)}return t.prototype.add=function(t){var e,r,s;if(null!=t){if(this.size++,r={value:t,_color:1},this._root){if(null!=i(this._root,function(e){return t===e.value?0:t<e.value?e._left?1:(r._parent=e,e._left=r,3):e._right?2:(r._parent=e,e._right=r,3)}))return}else this._root=r;for(e=r;;){if(e===this._root){e._color=2;break}if(2===e._parent._color)break;if(1!==(null!=(s=u(e))?s._color:void 0)){!n(e)&&n(e._parent)?(this._rotateLeft(e._parent),e=e._left):n(e)&&!n(e._parent)&&(this._rotateRight(e._parent),e=e._right),e._parent._color=2,o(e)._color=1,n(e)?this._rotateRight(o(e)):this._rotateLeft(o(e));break}e._parent._color=2,u(e)._color=2,o(e)._color=1,e=o(e)}return t}},t.prototype.has=function(t){return!!i(this._root,function(e){return t===e.value?0:t<e.value?1:2})},t.prototype.peekMin=function(){var t;return null!=(t=a(this._root))?t.value:void 0},t.prototype.peekMax=function(){var t;return null!=(t=s(this._root))?t.value:void 0},t.prototype.remove=function(t){var e;return(e=i(this._root,function(e){return t===e.value?0:t<e.value?1:2}))?(this._removeNode(this._root,e),this.size--,t):void 0},t.prototype.removeMin=function(){var t,e;return(t=a(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype.removeMax=function(){var t,e;return(t=s(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype._removeNode=function(t,e){var i,o,s,u,p,h,c,d,g,f;if(e._left&&e._right&&(o=a(e._right),e.value=o.value,e=o),(o=e._left||e._right)||(o={color:2,_right:void 0,_left:void 0,isLeaf:!0}),o._parent=e._parent,null!=(s=e._parent)&&(s[r(e)]=o),2===e._color)if(1===o._color)o._color=2,o._parent||(this._root=o);else for(;;){if(!o._parent){o.isLeaf?this._root=void 0:this._root=o;break}if(i=l(o),1===(null!=i?i._color:void 0)&&(o._parent._color=1,i._color=2,n(o)?this._rotateLeft(o._parent):this._rotateRight(o._parent)),i=l(o),2!==o._parent._color||i&&(2!==i._color||i._left&&2!==i._left._color||i._right&&2!==i._right._color)){if(!(1!==o._parent._color||i&&(2!==i._color||i._left&&2!==(null!=(u=i._left)?u._color:void 0)||i._right&&2!==(null!=(p=i._right)?p._color:void 0)))){null!=i&&(i._color=1),o._parent._color=2;break}if(2===(null!=i?i._color:void 0)){!n(o)||i._right&&2!==i._right._color||1!==(null!=(h=i._left)?h._color:void 0)?n(o)||i._left&&2!==i._left._color||1!==(null!=(d=i._right)?d._color:void 0)||(i._color=1,null!=(g=i._right)&&(g._color=2),this._rotateLeft(i)):(i._color=1,null!=(c=i._left)&&(c._color=2),this._rotateRight(i));break}(i=l(o))._color=o._parent._color,n(o)?(i._right._color=2,this._rotateRight(o._parent)):(i._left._color=2,this._rotateLeft(o._parent))}else null!=i&&(i._color=1),o.isLeaf&&(o._parent[r(o)]=void 0),o=o._parent}return o.isLeaf&&null!=(f=o._parent)?f[r(o)]=void 0:void 0},t.prototype._rotateLeft=function(t){var e,i;return null!=(e=t._parent)&&(e[r(t)]=t._right),t._right._parent=t._parent,t._parent=t._right,t._right=t._right._left,t._parent._left=t,null!=(i=t._right)&&(i._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t.prototype._rotateRight=function(t){var e,i;return null!=(e=t._parent)&&(e[r(t)]=t._left),t._left._parent=t._parent,t._parent=t._left,t._left=t._left._right,t._parent._right=t,null!=(i=t._left)&&(i._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t}(),n=function(t){return t===t._parent._left},r=function(t){return n(t)?"_left":"_right"},i=function(t,e){var i,o,n;for(o=t,n=void 0;o;){if(0===(i=e(o))){n=o;break}if(1===i)o=o._left;else if(2===i)o=o._right;else if(3===i)break}return n},a=function(t){return i(t,function(t){return t._left?1:0})},s=function(t){return i(t,function(t){return t._right?2:0})},o=function(t){var e;return null!=(e=t._parent)?e._parent:void 0},u=function(t){return o(t)?n(t._parent)?o(t)._right:o(t)._left:void 0},l=function(t){return n(t)?t._parent._right:t._parent._left},t.exports=e}).call(this)},function(t,e,i){(function(){var e,o,n,r,s={}.hasOwnProperty;e=i(6),n="end",o=function(){function t(t){var e,i,o;for(null==t&&(t=[]),this._root={},this.size=0,i=0,o=t.length;o>i;i++)e=t[i],this.add(e)}return t.prototype.add=function(t){var e,i,o,r;if(null!=t){for(this.size++,e=this._root,o=0,r=t.length;r>o;o++)i=t[o],null==e[i]&&(e[i]={}),e=e[i];return e[n]=!0,t}},t.prototype.has=function(t){var e,i,o,r;if(null==t)return!1;for(e=this._root,o=0,r=t.length;r>o;o++){if(i=t[o],null==e[i])return!1;e=e[i]}return!!e[n]},t.prototype.longestPrefixOf=function(t){var e,i,o,n,r;if(null==t)return"";for(e=this._root,o="",n=0,r=t.length;r>n&&(i=t[n],null!=e[i]);n++)o+=i,e=e[i];return o},t.prototype.wordsWithPrefix=function(t){var i,o,r,a,l,u,p,h,c,d;if(null==t)return[];for(null!=t||(t=""),p=[],o=this._root,h=0,c=t.length;c>h;h++)if(r=t[h],null==(o=o[r]))return[];for((l=new e).enqueue([o,""]);0!==l.size;){a=(d=l.dequeue())[0],i=d[1],a[n]&&p.push(t+i);for(r in a)s.call(a,r)&&(u=a[r],l.enqueue([u,i+r]))}return p},t.prototype.remove=function(t){var e,i,o,s,a,l,u,p;if(null!=t){for(e=this._root,s=[],a=0,u=t.length;u>a;a++){if(o=t[a],null==e[o])return;e=e[o],s.push([o,e])}if(e[n]){if(this.size--,delete e[n],r(e,1))return t;for(i=l=p=s.length-1;(1>=p?1>=l:l>=1)&&!r(s[i][1],1);i=1>=p?++l:--l)delete s[i-1][1][s[i][0]];return r(this._root[s[0][0]],1)||delete this._root[s[0][0]],t}}},t}(),r=function(t,e){var i,o;if(0===e)return!0;o=0;for(i in t)if(s.call(t,i)&&++o>=e)return!0;return!1},t.exports=o}).call(this)}]),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(e){var i=this;return function(){var e={}.hasOwnProperty,i=[].slice;this.OverlappingMarkerSpiderfier=function(){function o(t,i){var o,r,s,a,l,u;this.map=t,null==i&&(i={});for(r in i)e.call(i,r)&&(u=i[r],this[r]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},s=0,a=(l=["click","zoom_changed","maptypeid_changed"]).length;a>s;s++)o=l[s],n.addListener(this.map,o,function(t){return function(){return t.unspiderfy()}}(this))}var n,r,s,a,l,u,p,h,c,d,g;for(s=0,u=(c=[o,h=o.prototype]).length;u>s;s++)g=c[s],g.VERSION="0.3.3";return r=void 0,n=void 0,p=void 0,d=2*Math.PI,h.keepSpiderfied=!1,h.markersWontHide=!1,h.markersWontMove=!1,h.nearbyDistance=20,h.circleSpiralSwitchover=9,h.circleFootSeparation=23,h.circleStartAngle=d/12,h.spiralFootSeparation=26,h.spiralLengthStart=11,h.spiralLengthFactor=4,h.spiderfiedZIndex=1e3,h.usualLegZIndex=10,h.highlightedLegZIndex=20,h.event="click",h.minZoomLevel=!1,h.legWeight=1.5,h.legColors={usual:{},highlighted:{}},l=h.legColors.usual,a=h.legColors.highlighted,o.initializeGoogleMaps=function(t){return r=t.maps,n=r.event,p=r.MapTypeId,l[p.HYBRID]=l[p.SATELLITE]="#fff",a[p.HYBRID]=a[p.SATELLITE]="#f00",l[p.TERRAIN]=l[p.ROADMAP]="#444",a[p.TERRAIN]=a[p.ROADMAP]="#f00",this.ProjHelper=function(t){return this.setMap(t)},this.ProjHelper.prototype=new r.OverlayView,this.ProjHelper.prototype.draw=function(){}},h.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},h.addMarker=function(t){var e;return null!=t._oms?this:(t._oms=!0,e=[n.addListener(t,this.event,function(e){return function(i){return e.spiderListener(t,i)}}(this))],this.markersWontHide||e.push(n.addListener(t,"visible_changed",function(e){return function(){return e.markerChangeListener(t,!1)}}(this))),this.markersWontMove||e.push(n.addListener(t,"position_changed",function(e){return function(){return e.markerChangeListener(t,!0)}}(this))),this.markerListenerRefs.push(e),this.markers.push(t),this)},h.markerChangeListener=function(t,e){return null==t._omsData||!e&&t.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(e?t:null)},h.getMarkers=function(){return this.markers.slice(0)},h.removeMarker=function(t){var e,i,o,r,s;if(null!=t._omsData&&this.unspiderfy(),0>(e=this.arrIndexOf(this.markers,t)))return this;for(i=0,o=(s=this.markerListenerRefs.splice(e,1)[0]).length;o>i;i++)r=s[i],n.removeListener(r);return delete t._oms,this.markers.splice(e,1),this},h.clearMarkers=function(){var t,e,i,o,r,s,a,l,u;for(this.unspiderfy(),t=e=0,i=(u=this.markers).length;i>e;t=++e){for(a=u[t],l=0,o=(s=this.markerListenerRefs[t]).length;o>l;l++)r=s[l],n.removeListener(r);delete a._oms}return this.initMarkerArrays(),this},h.addListener=function(t,e){var i;return(null!=(i=this.listeners)[t]?i[t]:i[t]=[]).push(e),this},h.removeListener=function(t,e){var i;return 0>(i=this.arrIndexOf(this.listeners[t],e))||this.listeners[t].splice(i,1),this},h.clearListeners=function(t){return this.listeners[t]=[],this},h.trigger=function(){var t,e,o,n,r,s,a,l;for(e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],l=[],n=0,r=(a=null!=(s=this.listeners[e])?s:[]).length;r>n;n++)o=a[n],l.push(o.apply(null,t));return l},h.generatePtsCircle=function(t,e){var i,o,n,s,a,l,u;for(a=this.circleFootSeparation*(2+t)/d,o=d/t,u=[],n=s=0,l=t;l>=0?l>s:s>l;n=l>=0?++s:--s)i=this.circleStartAngle+n*o,u.push(new r.Point(e.x+a*Math.cos(i),e.y+a*Math.sin(i)));return u},h.generatePtsSpiral=function(t,e){var i,o,n,s,a,l,u;for(s=this.spiralLengthStart,i=0,u=[],o=n=0,l=t;l>=0?l>n:n>l;o=l>=0?++n:--n)i+=this.spiralFootSeparation/s+5e-4*o,a=new r.Point(e.x+s*Math.cos(i),e.y+s*Math.sin(i)),s+=d*this.spiralLengthFactor/i,u.push(a);return u},h.spiderListener=function(e,i){var o,n,r,s,a,l,u,p,c,d,g,f,m;if((p=null!=e._omsData)&&this.keepSpiderfied||("mouseover"===this.event?(o=this,n=function(){return o.unspiderfy()},t.clearTimeout(h.timeout),h.timeout=setTimeout(n,3e3)):this.unspiderfy()),p||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,i);for(d=[],g=[],f=(c=this.nearbyDistance)*c,u=this.llToPt(e.position),r=0,s=(m=this.markers).length;s>r;r++)null!=(a=m[r]).map&&a.getVisible()&&(l=this.llToPt(a.position),this.ptDistanceSq(l,u)<f?d.push({marker:a,markerPt:l}):g.push(a));return 1===d.length?this.trigger("click",e,i):this.spiderfy(d,g)},h.markersNearMarker=function(t,e){var i,o,n,r,s,a,l,u,p,h,c;if(null==e&&(e=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(u=(l=this.nearbyDistance)*l,s=this.llToPt(t.position),a=[],i=0,o=(p=this.markers).length;o>i&&!((n=p[i])!==t&&null!=n.map&&n.getVisible()&&(r=this.llToPt(null!=(h=null!=(c=n._omsData)?c.usualPosition:void 0)?h:n.position),this.ptDistanceSq(r,s)<u&&(a.push(n),e)));i++);return a},h.markersNearAnyOtherMarker=function(){var t,e,i,o,n,r,s,a,l,u,p,h,c,d,g,f,m,v,y,_,b;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=(g=this.nearbyDistance)*g,c=function(){var t,e,i,o,n,r;for(r=[],t=0,e=(i=this.markers).length;e>t;t++)a=i[t],r.push({pt:this.llToPt(null!=(o=null!=(n=a._omsData)?n.usualPosition:void 0)?o:a.position),willSpiderfy:!1});return r}.call(this),e=o=0,n=(v=this.markers).length;n>o;e=++o)if(null!=(l=v[e]).map&&l.getVisible()&&!(u=c[e]).willSpiderfy)for(y=this.markers,i=d=0,r=y.length;r>d;i=++d)if(p=y[i],i!==e&&null!=p.map&&p.getVisible()&&(h=c[i],(!(e>i)||h.willSpiderfy)&&this.ptDistanceSq(u.pt,h.pt)<f)){u.willSpiderfy=h.willSpiderfy=!0;break}for(b=[],t=m=0,s=(_=this.markers).length;s>m;t=++m)a=_[t],c[t].willSpiderfy&&b.push(a);return b},h.makeHighlightListenerFuncs=function(t){return{highlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.highlighted[e.map.mapTypeId],zIndex:e.highlightedLegZIndex})}}(this),unhighlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.usual[e.map.mapTypeId],zIndex:e.usualLegZIndex})}}(this)}},h.spiderfy=function(t,e){var i,o,s,a,l,u,p,h,c,d,g;return!(this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel)&&(this.spiderfying=!0,d=t.length,i=this.ptAverage(function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)h=t[e],o.push(h.markerPt);return o}()),a=d>=this.circleSpiralSwitchover?this.generatePtsSpiral(d,i).reverse():this.generatePtsCircle(d,i),g=function(){var e,i,h;for(h=[],e=0,i=a.length;i>e;e++)s=a[e],o=this.ptToLl(s),c=this.minExtract(t,function(t){return function(e){return t.ptDistanceSq(e.markerPt,s)}}(this)),p=c.marker,u=new r.Polyline({map:this.map,path:[p.position,o],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),p._omsData={usualPosition:p.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(p),p._omsData.hightlightListeners={highlight:n.addListener(p,"mouseover",l.highlight),unhighlight:n.addListener(p,"mouseout",l.unhighlight)}),p.setPosition(o),p.setZIndex(Math.round(this.spiderfiedZIndex+s.y)),h.push(p);return h}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",g,e))},h.unspiderfy=function(t){var e,i,o,r,s,a,l;if(null==t&&(t=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],s=[],e=0,i=(a=this.markers).length;i>e;e++)r=a[e],null!=r._omsData?(r._omsData.leg.setMap(null),r!==t&&r.setPosition(r._omsData.usualPosition),r.setZIndex(null),null!=(o=r._omsData.hightlightListeners)&&(n.removeListener(o.highlight),n.removeListener(o.unhighlight)),delete r._omsData,l.push(r)):s.push(r);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,s),this},h.ptDistanceSq=function(t,e){var i,o;return i=t.x-e.x,o=t.y-e.y,i*i+o*o},h.ptAverage=function(t){var e,i,o,n,s,a;for(s=a=0,e=0,i=t.length;i>e;e++)n=t[e],s+=n.x,a+=n.y;return o=t.length,new r.Point(s/o,a/o)},h.llToPt=function(t){return this.projHelper.getProjection().fromLatLngToDivPixel(t)},h.ptToLl=function(t){return this.projHelper.getProjection().fromDivPixelToLatLng(t)},h.minExtract=function(t,e){var i,o,n,r,s,a,l;for(n=s=0,a=t.length;a>s;n=++s)r=t[n],l=e(r),(void 0===i||null===i||o>l)&&(o=l,i=n);return t.splice(i,1)[0]},h.arrIndexOf=function(t,e){var i,o,n;if(null!=t.indexOf)return t.indexOf(e);for(i=o=0,n=t.length;n>o;i=++o)if(t[i]===e)return i;return-1},o}()}.apply(i),e.then(function(){i.OverlappingMarkerSpiderfier.initializeGoogleMaps(t.google)}),this.OverlappingMarkerSpiderfier}]),e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(e,o){return{init:i.once(function(){(function(){var i={}.hasOwnProperty,n=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};t.NgMapCluster=function(t){function i(t){i.__super__.constructor.call(this,t),this.markers_=new o}return n(i,t),i.prototype.addMarker=function(t){var e,i;if(this.isMarkerAlreadyAdded_(t)){var o=this.markers_.get(t.key);if(o.getPosition().lat()==t.getPosition().lat()&&o.getPosition().lon()==t.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var n=this.markers_.length+1,r=(this.center_.lat()*(n-1)+t.getPosition().lat())/n,s=(this.center_.lng()*(n-1)+t.getPosition().lng())/n;this.center_=new google.maps.LatLng(r,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();return t.isAdded=!0,this.markers_.push(t),e=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i?t.getMap()!==this.map_&&t.setMap(this.map_):e<this.minClusterSize_?t.getMap()!==this.map_&&t.setMap(this.map_):e===this.minClusterSize_?this.markers_.each(function(t){t.setMap(null)}):t.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(t){return e.isNullOrUndefined(this.markers_.get(t.key))},i.prototype.getBounds=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(e){t.extend(e.getPosition())}),t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new o,delete this.markers_},i}(Cluster),t.NgMapMarkerClusterer=function(t){function e(t,i,n){e.__super__.constructor.call(this,t,i,n),this.markers_=new o}return n(e,t),e.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new o},e.prototype.removeMarker_=function(t){return!!this.markers_.get(t.key)&&(t.setMap(null),this.markers_.remove(t.key),!0)},e.prototype.createClusters_=function(t){var e,i,o,n=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),o=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var r=this.getExtendedBounds(o),s=Math.min(t+this.batchSize_,this.markers_.length),a=this.markers_.values();for(e=t;s>e;e++)!(i=a[e]).isAdded&&this.isMarkerInBounds_(i,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){n.createClusters_(s)},0);else{for(e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},e.prototype.addToClosestCluster_=function(t){var e,i,o,n,r=4e4,s=null;for(e=0;e<this.clusters_.length;e++)o=this.clusters_[e],(n=o.getCenter())&&(i=this.distanceBetweenPoints_(n,t.getPosition()),r>i&&(r=i,s=o));s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):((o=new NgMapCluster(this)).addMarker(t),this.clusters_.push(o))},e.prototype.redraw_=function(){this.createClusters_(0)},e.prototype.resetViewport_=function(t){var e;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[],this.markers_.each(function(e){e.isAdded=!1,t&&e.setMap(null)})},e.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)"constructor"!==e&&(this.prototype[e]=t.prototype[e]);return this}.apply(t,[e])},ClusterIcon.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),i=parseInt(e[0].trim(),10),o=parseInt(e[1].trim(),10),n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n),t="<img src='"+this.url_+"' style='position: absolute; top: "+o+"px; left: "+i+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*o+"px, "+(-1*i+this.width_)+"px, "+(-1*o+this.height_)+"px, "+-1*i+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},e}(MarkerClusterer)}).call(this)})}}])}(window,angular,_);